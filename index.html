<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
   <title>AdilStore ¬∑ Open, Fair App Store</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="adilstore-icon.png" />
  <link rel="shortcut icon" href="adilstore-icon.png" />

  <!-- Optional for iOS home screen -->
  <link rel="apple-touch-icon" href="adilstore-icon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="AdilStore ¬∑ Open, Fair App Store"
  

  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020617;
      --panel: rgba(15, 23, 42, 0.92);
      --panel-soft: rgba(15, 23, 42, 0.88);
      --panel-strong: rgba(15, 23, 42, 0.97);
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.16);
      --accent-strong: #0ea5e9;
      --danger: #f97373;
      --text: #e5e7eb;
      --text-soft: #9ca3af;
      --border: #1f2937;
      --chip-bg: #0b1120;
      --radius-lg: 18px;
      --radius-md: 999px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.6);
      --blur: 22px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.3s ease;
      --nav-height: 66px;
      --page-gradient: radial-gradient(circle at 10% 10%, rgba(14, 165, 233, 0.18), transparent 35%),
        radial-gradient(circle at 80% 0%, rgba(236, 72, 153, 0.16), transparent 32%),
        linear-gradient(135deg, rgba(8, 47, 73, 0.9), rgba(2, 6, 23, 0.95));
    }

    html[data-theme="light"] {
      --bg: #f8fafc;
      --bg-soft: #f3f4f6;
      --panel: #ffffff;
      --panel-soft: #f8fbff;
      --panel-strong: #eef2f7;
      --accent: #0ea5e9;
      --accent-soft: rgba(14, 165, 233, 0.14);
      --accent-strong: #0369a1;
      --danger: #dc2626;
      --text: #0f172a;
      --text-soft: #475569;
      --border: #d9e2ec;
      --chip-bg: #e0f2fe;
      --shadow-soft: 0 16px 34px rgba(12, 74, 110, 0.18);
      --page-gradient: radial-gradient(circle at 10% 20%, rgba(14, 165, 233, 0.12), transparent 32%),
        radial-gradient(circle at 75% 0%, rgba(59, 130, 246, 0.12), transparent 34%),
        linear-gradient(135deg, #f8fafc 0%, #f1f5f9 40%, #e2e8f0 100%);
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--page-gradient);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      display: flex;
      justify-content: center;
      position: relative;
      overflow-x: hidden;
    }

    .ambient-grid {
      position: fixed;
      inset: -120px;
      background: radial-gradient(circle, rgba(56, 189, 248, 0.08) 0, transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(94, 234, 212, 0.08) 0, transparent 35%),
        radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.08) 0, transparent 35%);
      filter: blur(90px);
      z-index: 0;
      pointer-events: none;
    }

    .app-shell {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1260px;
      padding: 18px clamp(16px, 3vw, 32px) 36px;
    }

    /* HEADER / HERO */
    header {
      position: sticky;
      top: 0;
      z-index: 22;
      backdrop-filter: blur(var(--blur));
      background: linear-gradient(
        to bottom,
        rgba(2, 6, 23, 0.96),
        rgba(2, 6, 23, 0.9),
        rgba(2, 6, 23, 0.6)
      );
      transition: box-shadow var(--transition-fast), border-color var(--transition-fast);
      border-bottom: 1px solid rgba(148, 163, 184, 0.16);
    }

    header.scrolled {
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      border-color: rgba(148, 163, 184, 0.3);
    }

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 10px 10px;
      min-height: var(--nav-height);
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: -0.02em;
      font-size: 16px;
      color: var(--text);
    }

    .brand-mark {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: linear-gradient(135deg, #0ea5e9, #6366f1);
      display: grid;
      place-items: center;
      color: #0b1120;
      font-weight: 800;
      box-shadow: 0 12px 28px rgba(56, 189, 248, 0.45);
    }

    .header-actions {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .lang-toggle {
      display: inline-flex;
      align-items: center;
      padding: 4px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--panel-soft);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
      gap: 4px;
    }

    .lang-option {
      border: none;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      cursor: pointer;
      color: var(--text-soft);
      background: transparent;
      transition: color var(--transition-fast), background var(--transition-fast), transform var(--transition-fast);
    }

    .lang-option.active {
      background: var(--accent-soft);
      color: var(--accent-strong);
      font-weight: 600;
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(56, 189, 248, 0.35);
    }

    .theme-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: var(--panel-soft);
      color: var(--text-soft);
      cursor: pointer;
      font-size: 11px;
      user-select: none;
      transition: background var(--transition-fast), transform var(--transition-fast),
        box-shadow var(--transition-fast);
    }

    .theme-toggle:hover,
    .lang-toggle:hover {
      background: var(--panel);
      transform: translateY(-1px);
    }

    .theme-toggle:active,
    .lang-toggle:active {
      transform: scale(0.98);
    }

    .theme-icon {
      font-size: 14px;
    }

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(320px, 0.9fr);
      gap: 16px 20px;
      align-items: start;
      margin: 16px 0 12px;
      padding: 20px 22px;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148, 163, 184, 0.3);
      box-shadow: var(--shadow-soft);
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(99, 102, 241, 0.1)),
        var(--panel);
      position: relative;
      overflow: hidden;
    }

    html[data-theme="light"] .hero {
      background: linear-gradient(135deg, rgba(226, 232, 240, 0.9), rgba(255, 255, 255, 0.96));
      border-color: rgba(148, 163, 184, 0.5);
      box-shadow: 0 16px 34px rgba(12, 74, 110, 0.14);
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.09), transparent 42%);
      pointer-events: none;
    }

    .hero-main {
      position: relative;
      z-index: 1;
      min-width: 0;
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 12px;
      border-radius: var(--radius-md);
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 11px;
      letter-spacing: 0.08em;
      color: var(--text-soft);
      margin-bottom: 8px;
      text-transform: uppercase;
    }

    html[data-theme="light"] .hero-kicker {
      background: rgba(255, 255, 255, 0.9);
      border-color: rgba(148, 163, 184, 0.55);
    }

    .hero-kicker span.dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #0ea5e9);
      box-shadow: 0 0 0 8px rgba(34, 197, 94, 0.2);
    }

    .hero-note {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.28);
      background: rgba(56, 189, 248, 0.12);
      color: var(--text);
      font-size: 12px;
      margin-top: 12px;
    }

    html[data-theme="light"] .hero-note {
      background: rgba(14, 165, 233, 0.16);
      border-color: rgba(14, 165, 233, 0.28);
    }

    .hero-title {
      font-size: clamp(26px, 4vw, 32px);
      font-weight: 800;
      letter-spacing: -0.03em;
      margin: 0 0 8px;
    }

    .hero-sub {
      margin: 0;
      font-size: 13px;
      line-height: 1.65;
      color: var(--text-soft);
      max-width: 540px;
    }

    .hero-app-card {
      position: relative;
      z-index: 1;
      width: 100%;
      border-radius: 18px;
      padding: 14px 14px 8px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: linear-gradient(150deg, rgba(56, 189, 248, 0.12), rgba(99, 102, 241, 0.14)),
        var(--panel);
      box-shadow: 0 18px 32px rgba(0, 0, 0, 0.28);
      display: grid;
      gap: 10px;
    }

    html[data-theme="light"] .hero-app-card {
      background: linear-gradient(150deg, rgba(14, 165, 233, 0.12), rgba(99, 102, 241, 0.08)),
        var(--panel);
      border-color: rgba(148, 163, 184, 0.55);
      box-shadow: 0 16px 30px rgba(12, 74, 110, 0.15);
    }

    .hero-app-header {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 10px 12px;
      align-items: center;
    }

    .hero-app-header h2 {
      margin: 0;
      font-size: 18px;
      letter-spacing: -0.02em;
    }

    .eyebrow {
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-soft);
    }

    .hero-app-desc {
      margin: 0;
      color: var(--text-soft);
      font-size: 12px;
      line-height: 1.5;
    }

    .hero-app-meta {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .pill {
      padding: 4px 10px;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.8);
      color: var(--text);
      font-size: 11px;
    }

    html[data-theme="light"] .pill {
      background: rgba(255, 255, 255, 0.9);
    }

    .app-icon.lg {
      width: 48px;
      height: 48px;
      font-size: 18px;
      box-shadow: 0 12px 28px rgba(56, 189, 248, 0.32);
    }

    html[data-theme="light"] .app-icon {
      background: linear-gradient(135deg, #0ea5e9, #e0f2fe);
      color: #0b1120;
    }

    .hero-sub strong {
      color: var(--text);
      font-weight: 600;
    }

    .small {
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.5;
    }

    .hero-side {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 10px;
      min-width: 220px;
    }

    .hero-metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      width: 100%;
      max-width: 380px;
    }

    .metric {
      padding: 10px 12px;
      border-radius: 14px;
      background: var(--panel-strong);
      border: 1px solid rgba(148, 163, 184, 0.45);
      font-size: 12px;
      display: grid;
      gap: 6px;
      align-content: center;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.4);
    }

    .metric-label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-soft);
    }

    .metric-value {
      font-weight: 700;
      color: var(--text);
      font-size: 16px;
    }

    /* CONTROLS */
    .controls-bar {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px 16px;
      align-items: center;
      justify-content: space-between;
      padding: 12px 12px 8px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: var(--panel-strong);
      box-shadow: 0 12px 28px rgba(15, 23, 42, 0.3);
      position: sticky;
      top: calc(var(--nav-height) - 6px);
      z-index: 18;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .filter-pill {
      padding: 6px 12px;
      border-radius: var(--radius-md);
      font-size: 11px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.82);
      color: var(--text-soft);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background var(--transition-fast), border-color var(--transition-fast),
        color var(--transition-fast), transform var(--transition-fast);
    }

    .filter-pill span.count {
      font-variant-numeric: tabular-nums;
      opacity: 0.9;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
    }

    .filter-pill.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: var(--accent-strong);
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(56, 189, 248, 0.25);
    }

    .search-wrap {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1 1 260px;
      min-width: 0;
      justify-content: flex-end;
    }

    .search-inner {
      position: relative;
      flex: 1 1 auto;
      max-width: 300px;
    }

    .search-inner input {
      width: 100%;
      padding: 10px 36px 10px 32px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.95);
      color: var(--text);
      font-size: 12px;
      outline: none;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast),
        background var(--transition-fast), transform var(--transition-fast);
    }

    html[data-theme="light"] .search-inner input {
      background: #ffffff;
    }

    .search-inner input::placeholder {
      color: var(--text-soft);
    }

    .search-inner input:focus,
    .search-inner.has-text input {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
      transform: translateY(-0.5px);
    }

    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      opacity: 0.7;
      pointer-events: none;
    }

    .search-clear {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 22px;
      height: 22px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.08);
      color: var(--text-soft);
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-fast), visibility var(--transition-fast), background var(--transition-fast);
    }

    .search-inner.has-text .search-clear {
      opacity: 1;
      visibility: visible;
    }

    .search-clear:hover {
      background: var(--accent-soft);
      color: var(--accent-strong);
    }

    .results-counter {
      font-size: 11px;
      color: var(--text-soft);
      white-space: nowrap;
    }

    /* FEATURED */
    .section-heading {
      margin: 24px 0 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .section-heading h3 {
      margin: 0;
      font-size: 16px;
      letter-spacing: -0.02em;
    }

    .featured-row {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(220px, 1fr);
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 6px;
      scroll-snap-type: x mandatory;
    }

    .featured-card {
      position: relative;
      border-radius: 16px;
      padding: 14px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: linear-gradient(145deg, rgba(56, 189, 248, 0.16), rgba(99, 102, 241, 0.12)), var(--panel-soft);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.35);
      display: grid;
      gap: 10px;
      scroll-snap-align: start;
      min-height: 140px;
      cursor: pointer;
      transition: transform var(--transition-med), box-shadow var(--transition-med), border-color var(--transition-med);
    }

    .featured-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 36px rgba(56, 189, 248, 0.45);
      border-color: var(--accent);
    }

    .featured-meta {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .featured-title {
      margin: 0;
      font-size: 14px;
      font-weight: 700;
    }

    .featured-desc {
      margin: 0;
      color: var(--text-soft);
      font-size: 12px;
      line-height: 1.5;
    }

    /* GRID & CARDS */
    main {
      margin-top: 14px;
    }

    .app-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 14px;
      margin-top: 6px;
    }

    @media (min-width: 720px) {
      .app-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (min-width: 1100px) {
      .app-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .app-card {
      position: relative;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: radial-gradient(circle at 20% 0%, rgba(248, 250, 252, 0.05), transparent 55%),
        var(--panel-soft);
      padding: 14px 14px 13px;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.58);
      display: flex;
      flex-direction: column;
      gap: 8px;
      overflow: hidden;
      transition: transform var(--transition-med), box-shadow var(--transition-med),
        border-color var(--transition-med), background var(--transition-med);
      opacity: 0;
      transform: translateY(12px);
    }

    html[data-theme="light"] .app-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.96));
      border-color: rgba(148, 163, 184, 0.45);
      box-shadow: 0 14px 32px rgba(12, 74, 110, 0.18);
    }

    .app-card.in-view {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 60ms;
    }

    .app-card:hover {
      transform: translateY(-3px) translateZ(0);
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.9);
      border-color: rgba(56, 189, 248, 0.8);
      background: radial-gradient(circle at 20% 0%, rgba(56, 189, 248, 0.18), transparent 60%),
        var(--panel-soft);
    }

    .app-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 6px 10px;
    }

    .app-title {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: -0.01em;
      margin: 0;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .app-icon {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.9), rgba(99, 102, 241, 0.95));
      display: grid;
      place-items: center;
      font-weight: 800;
      color: #0b1120;
      box-shadow: 0 10px 26px rgba(56, 189, 248, 0.45);
      flex-shrink: 0;
    }

    .app-icon-img {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      display: block;
      object-fit: cover;
    }

    .app-category {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--text-soft);
      white-space: nowrap;
    }

    .app-description {
      margin: 0;
      font-size: 12px;
      line-height: 1.55;
      color: var(--text-soft);
    }

    .app-extra-line {
      margin-top: 4px;
      color: var(--text-soft);
    }

    .app-meta {
      display: flex;
      justify-content: space-between;
      gap: 6px;
      align-items: flex-start;
      margin-top: 4px;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .chip {
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      background: var(--chip-bg);
      border: 1px solid rgba(148, 163, 184, 0.5);
      color: var(--text-soft);
    }

    .platforms {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 2px;
      font-size: 10px;
      text-align: right;
      color: var(--text-soft);
    }

    .platform-pill {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      white-space: nowrap;
    }

    .app-actions {
      display: flex;
      gap: 8px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .rating-block {
      margin-top: 8px;
      border-top: 1px solid rgba(148, 163, 184, 0.25);
      padding-top: 6px;
    }

    .rating-summary-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }

    .rating-stars {
      display: flex;
      gap: 2px;
      font-size: 12px;
    }

    .star {
      font-size: 12px;
      line-height: 1;
    }

    .star.full {
      color: #fbbf24;
    }

    .star.half {
      color: #facc15;
      opacity: 0.8;
    }

    .star.empty {
      color: rgba(148, 163, 184, 0.7);
    }

    .rating-summary-text {
      font-size: 11px;
      color: var(--text-soft);
    }

    .rating-form {
      display: grid;
      gap: 4px;
      margin-bottom: 4px;
    }

    .rating-form-row {
      display: flex;
      gap: 4px;
    }

    .rating-form input.rating-nickname,
    .rating-form textarea.rating-comment {
      flex: 1;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.98);
      color: var(--text);
      padding: 4px 6px;
      font-size: 11px;
    }

    html[data-theme="light"] .rating-form input.rating-nickname,
    html[data-theme="light"] .rating-form textarea.rating-comment {
      background: #ffffff;
    }

    .rating-form textarea.rating-comment {
      resize: vertical;
      min-height: 40px;
    }

    .rating-submit-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .btn-xs {
      padding-inline: 8px;
      padding-block: 4px;
      font-size: 11px;
      border-radius: 999px;
    }

    .rating-message {
      font-size: 10px;
      color: var(--text-soft);
    }

    .rating-message.success {
      color: #22c55e;
    }

    .rating-message.error {
      color: #f97373;
    }

    .rating-latest {
      display: grid;
      gap: 4px;
      margin-top: 2px;
    }

    .rating-comment-item {
      font-size: 10px;
      color: var(--text-soft);
    }

    .rating-comment-author {
      font-weight: 500;
    }

    .btn {
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 11px;
      font-weight: 600;
      border: 1px solid transparent;
      cursor: pointer;
      outline: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      white-space: nowrap;
      transition: background var(--transition-fast), border-color var(--transition-fast),
        color var(--transition-fast), transform var(--transition-fast),
        box-shadow var(--transition-fast);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #0b1120;
      box-shadow: 0 10px 25px rgba(56, 189, 248, 0.6);
    }

    .btn-primary:hover {
      transform: translateY(-1.5px);
      box-shadow: 0 14px 32px rgba(56, 189, 248, 0.9);
    }

    .btn-ghost {
      background: rgba(15, 23, 42, 0.9);
      border-color: rgba(148, 163, 184, 0.7);
      color: var(--text-soft);
    }

    .btn-ghost:hover {
      background: rgba(15, 23, 42, 1);
      color: var(--accent);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .btn span.icon {
      font-size: 13px;
      line-height: 1;
    }

    .btn-full {
      justify-content: center;
      width: 100%;
    }

    .star-btn {
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0 1px;
      font-size: 13px;
      line-height: 1;
      color: rgba(148, 163, 184, 0.8);
    }

    .star-btn.active {
      color: #fbbf24;
    }

    .star-btn:focus-visible {
      outline: 1px solid var(--accent);
      border-radius: 4px;
    }

    .pulse-highlight {
      animation: pulse 1.2s ease;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.7); }
      100% { box-shadow: 0 0 0 18px rgba(56, 189, 248, 0); }
    }

    .app-preview {
      margin-top: 8px;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: #020617;
      display: flex;
      flex-direction: column;
      gap: 0;
      max-height: 0;
      opacity: 0;
      transform: translateY(-4px);
      transition: max-height 0.35s ease, opacity 0.3s ease, transform 0.3s ease;
    }

    html[data-theme="light"] .app-preview {
      background: #f8fafc;
      border-color: rgba(148, 163, 184, 0.45);
    }

    .app-preview.active {
      opacity: 1;
      transform: translateY(0);
      max-height: 560px;
    }

    .preview-hint {
      padding: 10px 12px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.92);
      font-size: 11px;
      color: var(--text-soft);
      display: grid;
      gap: 4px;
    }

    html[data-theme="light"] .preview-hint {
      background: #e8edf5;
      border-color: rgba(148, 163, 184, 0.55);
    }

    .preview-frame {
      width: 100%;
      min-height: 360px;
      border: none;
      background: #000;
    }

    .hero-preview .preview-frame {
      min-height: 420px;
    }

    .preview-loader {
      padding: 10px 12px;
      font-size: 11px;
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.9);
      display: none;
    }

    html[data-theme="light"] .preview-loader {
      background: #eef2f7;
    }

    .preview-loading .preview-loader {
      display: block;
    }

    .empty-state {
      display: none;
      text-align: center;
      padding: 24px;
      border-radius: var(--radius-lg);
      border: 1px dashed var(--border);
      color: var(--text-soft);
      background: var(--panel-soft);
      margin-top: 10px;
    }

    .submit-section {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: var(--panel-strong);
      padding: 16px 14px 18px;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.6);
      margin-top: 8px;
      display: grid;
      gap: 10px;
    }

    .submit-form {
      display: grid;
      gap: 10px;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
    }

    .form-full {
      display: block;
    }

    .submit-form label {
      display: grid;
      gap: 4px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .submit-form input,
    .submit-form textarea,
    .submit-form select {
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.96);
      color: var(--text);
      padding: 8px 10px;
      font-size: 12px;
      outline: none;
    }

    html[data-theme="light"] .submit-form input,
    html[data-theme="light"] .submit-form textarea,
    html[data-theme="light"] .submit-form select {
      background: #ffffff;
    }

    .submit-form input:focus,
    .submit-form textarea:focus,
    .submit-form select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
    }

    .form-actions {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .submit-message {
      font-size: 11px;
      color: var(--text-soft);
    }

    .submit-message.success {
      color: #22c55e;
    }

    .submit-message.error {
      color: #f97373;
    }

    footer {
      margin-top: 24px;
      padding: 16px 10px 8px;
      font-size: 12px;
      color: var(--text-soft);
      border-top: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.6);
      border-radius: 14px 14px 0 0;
      line-height: 1.6;
    }

    footer a {
      color: var(--accent);
    }

    /* Animations & accessibility */
    .fade-in-up {
      opacity: 0;
      transform: translateY(12px);
      animation: fadeUp 0.6s ease forwards;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.001ms !important;
        scroll-behavior: auto !important;
      }
    }

    @media (max-width: 720px) {
      :root {
        --nav-height: 58px;
      }

      .hero {
        grid-template-columns: 1fr;
      }

      .hero-side {
        align-items: flex-start;
      }

      .controls-bar {
        top: calc(var(--nav-height) - 2px);
        padding: 12px 10px 8px;
      }

      .featured-row {
        grid-auto-columns: minmax(200px, 70vw);
      }

      .app-actions {
        flex-direction: column;
      }

      .platforms {
        align-items: flex-start;
      }

      .submit-section {
        padding: 14px 10px 16px;
      }
    }
  </style>
</head>
<body>
  <div class="ambient-grid" aria-hidden="true"></div>
  <div class="app-shell">
    <header>
      <div class="top-bar fade-in-up" style="animation-delay: 0.05s">
        <div class="brand" aria-label="Umut Lab">
          <div class="brand-mark">U</div>
          <span>Adil Store</span>
        </div>
        <div class="header-actions">
          <div class="lang-toggle" id="languageToggle" role="group" aria-label="Language toggle">
            <button class="lang-option active" data-lang="en" type="button">EN</button>
            <button class="lang-option" data-lang="tr" type="button">TR</button>
          </div>
          <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme">
            <span class="theme-icon">üåô</span>
            <span class="theme-label">Dark mode</span>
          </button>
        </div>
      </div>
    </header>

    <section class="hero fade-in-up" style="animation-delay: 0.12s">
      <div class="hero-main">
        <div class="hero-kicker"><span class="dot"></span><span data-i18n="heroKicker">Privacy-first ¬∑ Heart-friendly</span></div>
        <h1 class="hero-title" data-i18n="heroTitle">AdilStore ¬∑ Respectful apps</h1>
        <p class="hero-sub" data-i18n="heroSubtitle">
          A warm collection of handcrafted tools, mindful games, and spiritual companions that protect your focus, privacy, and dignity.
        </p>
        <div class="hero-note" data-i18n="heroNote">Gentle, family-friendly experiences built with intention.</div>
      </div>
      <div class="hero-side">
        <div class="hero-app-card" id="heroAppCard" aria-live="polite"></div>
        <div class="hero-metrics">
          <div class="metric">
            <div class="metric-label" data-i18n="metrics.apps">Apps live</div>
            <div class="metric-value" id="metricApps">0</div>
          </div>
          <div class="metric">
            <div class="metric-label" data-i18n="metrics.privacy">Privacy & kindness</div>
            <div class="metric-value" data-i18n="metrics.privacyValue">No ads ¬∑ No trackers</div>
          </div>
          <div class="metric">
            <div class="metric-label" data-i18n="metrics.platforms">Platforms</div>
            <div class="metric-value" data-i18n="metrics.platformsValue">Web & Android</div>
          </div>
        </div>
      </div>
    </section>

    <div class="controls-bar fade-in-up" style="animation-delay: 0.18s">
      <div class="filters" id="filters" aria-label="Category filters"></div>
      <div class="search-wrap">
        <div class="search-inner" id="searchWrap">
          <span class="search-icon">üîç</span>
          <input id="searchInput" type="search" placeholder="Search apps, tags, or hopes‚Ä¶" aria-label="Search apps" />
          <button class="search-clear" id="searchClear" type="button" aria-label="Clear search">√ó</button>
        </div>
        <div class="results-counter" id="resultsCounter">0 apps</div>
      </div>
    </div>

    <section class="section-heading" aria-label="Featured apps">
      <h3 data-i18n="featuredTitle">Featured</h3>
    </section>
    <div class="featured-row" id="featuredRow"></div>

    <main aria-label="App grid">
      <div class="section-heading" aria-label="All apps">
        <h3 data-i18n="allAppsTitle">All apps</h3>
      </div>
      <div class="app-grid" id="appGrid"></div>
      <div class="empty-state" id="emptyState">
        <div data-i18n="empty.title">No apps match your search.</div>
        <div class="small" data-i18n="empty.subtitle">Try another category or reset filters.</div>
      </div>
    </main>

    <section class="section-heading" aria-label="Submit your app">
      <h3 data-i18n="submit.title">Submit your app</h3>
    </section>
    <section class="submit-section" id="submitSection">
      <p class="small" data-i18n="submit.subtitle">
        Share a respectful, ad-free, privacy-friendly app. We review every submission by hand.
      </p>
      <form id="submissionForm" class="submit-form">
        <div class="form-row">
          <label>
            <span data-i18n="submit.appName">App name</span>
            <input type="text" name="app_name" required />
          </label>
          <label>
            <span data-i18n="submit.appUrl">App URL</span>
            <input type="url" name="app_url" required />
          </label>
        </div>
        <div class="form-row">
          <label>
            <span data-i18n="submit.category">Category</span>
            <select name="category">
              <option value="">--</option>
              <option value="spiritual" data-i18n="categories.spiritual">Spiritual</option>
              <option value="wellness" data-i18n="categories.wellness">Wellness</option>
              <option value="learning" data-i18n="categories.learning">Learning</option>
              <option value="games" data-i18n="categories.games">Games</option>
              <option value="tools" data-i18n="categories.tools">Tools</option>
              <option value="environment" data-i18n="categories.environment">Environment</option>
              <option value="self-assessment" data-i18n="categories.self-assessment">Self-assessment</option>
            </select>
          </label>
          <label>
            <span data-i18n="submit.contactEmail">Contact email</span>
            <input type="email" name="contact_email" required />
          </label>
        </div>
        <label class="form-full">
          <span data-i18n="submit.description">Short description (why is it good for AdilStore?)</span>
          <textarea name="description" rows="3"></textarea>
        </label>
        <label class="form-full">
          <span data-i18n="submit.extraNotes">Extra notes (open source links, licenses, etc.)</span>
          <textarea name="extra_notes" rows="3"></textarea>
        </label>
        <label class="form-full">
          <span data-i18n="submit.icon">App icon (optional)</span>
          <input type="file" name="icon_file" accept="image/*" />
          <span class="small" data-i18n="submit.iconHint">
            Max ~1MB, square image looks best.
          </span>
        </label>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <span class="icon">üì§</span>
            <span data-i18n="submit.button">Send submission</span>
          </button>
          <div class="submit-message" id="submitMessage" aria-live="polite"></div>
        </div>
      </form>
    </section>

    <footer>
      <div data-i18n="footer.line1">All apps by <strong>Umut Candan</strong>. No ads, no trackers, no games with your data.</div>
      <div data-i18n="footer.line2">
        Add more apps by editing the <code>FALLBACK_APPS</code> array in this page ¬∑ Hosted on
        <a href="https://pages.github.com/" target="_blank" rel="noreferrer">GitHub Pages</a>.
      </div>
    </footer>
  </div>

  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

    // i18n: translations and language state
    const translations = {
      en: {
        heroKicker: "Privacy-first ¬∑ Heart-friendly",
        heroTitle: "AdilStore ¬∑ Respectful apps",
        heroSubtitle:
          "A warm collection of handcrafted tools, mindful games, and spiritual companions that protect your focus, privacy, and dignity.",
        heroNote: "Gentle, family-friendly experiences built with intention.",
        heroAppTagline: "Featured today: a fresh daily pick",
        categories: {
          all: "All apps",
          spiritual: "Spiritual growth",
          wellness: "Wellbeing & mind",
          learning: "Learning & reflection",
          games: "Games & play",
          tools: "Tools & utilities",
          environment: "Environment & care",
          "self-assessment": "Self-assessment",
        },
        searchPlaceholder: "Search apps, tags, or hopes‚Ä¶",
        results: { single: "app", plural: "apps" },
        metrics: {
          apps: "Apps live",
          privacy: "Privacy & kindness",
          privacyValue: "No ads ¬∑ No trackers",
          platforms: "Platforms",
          platformsValue: "Web & Android",
        },
        buttons: {
          open: "Open app",
          openPlay: "Open on Google Play",
          live: "Live preview",
          hide: "Hide preview",
          unavailable: "Preview unavailable",
        },
        preview: {
          lead: "Inline preview:",
          body: "Try the real app here without leaving the page.",
          fallback: "Some stores block embedding ‚Äî if it stays blank, please use the main button.",
          loading: "Loading live preview‚Ä¶",
        },
        submit: {
          title: "Submit your app",
          subtitle: "Share a respectful, ad-free, privacy-friendly app. We review every submission by hand.",
          appName: "App name",
          appUrl: "App URL",
          category: "Category",
          contactEmail: "Contact email",
          description: "Short description (why is it good for AdilStore?)",
          extraNotes: "Extra notes (open source links, licenses, etc.)",
          icon: "App icon (optional)",
          iconHint: "Max ~1MB, square images look best.",
          button: "Send submission",
        },
        empty: {
          title: "No apps match your search.",
          subtitle: "Try a caring keyword or reset the filters.",
        },
        storePromise: "Ad-free ¬∑ Privacy-first",
        footer: {
          line1: "All apps by <strong>Umut Candan</strong>. No ads, no trackers, and a respect-first build.",
          line2:
            "Add more apps by editing the <code>FALLBACK_APPS</code> array on this page ¬∑ Hosted on <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noreferrer\">GitHub Pages</a>.",
        },
        featuredTitle: "Featured",
        allAppsTitle: "All apps",
        searchClear: "Clear search",
        theme: { light: "Light mode", dark: "Dark mode" },
      },
      tr: {
        heroKicker: "Mahremiyet dostu ¬∑ Kalbe iyi gelen",
        heroTitle: "AdilStore ¬∑ Saygƒ±lƒ± uygulamalar",
        heroSubtitle:
          "Zamanƒ±na, mahremiyetine ve onuruna saygƒ± duyan; √∂zenle yapƒ±lmƒ±≈ü ara√ßlar, oyunlar ve manevi yolda≈ülardan olu≈üan sƒ±cak bir koleksiyon.",
        heroNote: "Niyetle yapƒ±lmƒ±≈ü, aile dostu ve yumu≈üak deneyimler.",
        heroAppTagline: "Bug√ºn√ºn yƒ±ldƒ±zƒ±: her g√ºn deƒüi≈üen √∂neri",
        categories: {
          all: "T√ºm uygulamalar",
          spiritual: "Maneviyat ve ihsan",
          wellness: "ƒ∞yilik hali ve zihin",
          learning: "√ñƒürenme ve tefekk√ºr",
          games: "Oyun ve eƒülence",
          tools: "Ara√ßlar ve yardƒ±mcƒ±lar",
          environment: "√áevre ve hassasiyet",
          "self-assessment": "√ñz deƒüerlendirme",
        },
        searchPlaceholder: "Uygulama, etiket veya umut ara‚Ä¶",
        results: { single: "uygulama", plural: "uygulama" },
        metrics: {
          apps: "Aktif uygulama",
          privacy: "Mahremiyet ve nezaket",
          privacyValue: "Reklam yok ¬∑ Takip√ßi yok",
          platforms: "Platformlar",
          platformsValue: "Web ve Android",
        },
        buttons: {
          open: "Uygulamayƒ± a√ß",
          openPlay: "Google Play'de a√ß",
          live: "Canlƒ± √∂nizleme",
          hide: "√ñnizlemeyi gizle",
          unavailable: "√ñnizleme kullanƒ±lamƒ±yor",
        },
        preview: {
          lead: "Satƒ±r i√ßi √∂nizleme:",
          body: "Sayfadan ayrƒ±lmadan ger√ßek uygulamayƒ± burada deneyin.",
          fallback: "Bazƒ± maƒüazalar yerle≈ütirmeyi engeller ‚Äî bo≈ü kalƒ±rsa ana butonu kullanƒ±n.",
          loading: "Canlƒ± √∂nizleme y√ºkleniyor‚Ä¶",
        },
        submit: {
          title: "Uygulamanƒ± g√∂nder",
          subtitle:
            "Saygƒ±lƒ±, reklamsƒ±z ve mahremiyet dostu bir uygulamayƒ± bizimle payla≈ü. T√ºm ba≈üvurularƒ± tek tek inceliyoruz.",
          appName: "Uygulama adƒ±",
          appUrl: "Uygulama adresi (URL)",
          category: "Kategori",
          contactEmail: "ƒ∞leti≈üim e-posta",
          description: "Kƒ±sa a√ßƒ±klama (AdilStore i√ßin neden uygun?)",
          extraNotes: "Ek notlar (a√ßƒ±k kaynak linkleri, lisanslar vb.)",
          icon: "Uygulama ikonu (isteƒüe baƒülƒ±)",
          iconHint: "En fazla ~1MB, kare g√∂rseller en iyi sonucu verir.",
          button: "Ba≈üvuruyu g√∂nder",
        },
        empty: {
          title: "Aramanƒ±zla e≈üle≈üen uygulama yok.",
          subtitle: "Daha yumu≈üak bir anahtar kelime deneyin veya filtreleri sƒ±fƒ±rlayƒ±n.",
        },
        storePromise: "Reklamsƒ±z ¬∑ Mahremiyet √∂ncelikli",
        footer: {
          line1: "T√ºm uygulamalar <strong>Umut Candan</strong> tarafƒ±ndan. Reklam yok, takip√ßi yok, verinle oyun yok.",
          line2:
            "Yeni uygulamalar eklemek i√ßin bu sayfadaki <code>FALLBACK_APPS</code> dizisini d√ºzenleyin ¬∑ <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noreferrer\">GitHub Pages</a> √ºzerinde barƒ±ndƒ±rƒ±lƒ±r.",
        },
        featuredTitle: "√ñne √ßƒ±kanlar",
        allAppsTitle: "T√ºm uygulamalar",
        searchClear: "Aramayƒ± temizle",
        theme: { light: "A√ßƒ±k mod", dark: "Koyu mod" },
      },
    };

    // 1) DATA MODEL ‚Äî add / edit apps here
    // -------------------------------------------------------
    const FALLBACK_APPS = [
      {
        id: "unmask",
        name: "Unmask ¬∑ Purity & Power Companion",
        category: "spiritual",
        url: "https://candanumut.github.io/Unmasking_sexual_engineered/",
        previewUrl: "https://candanumut.github.io/Unmasking_sexual_engineered/",
        icon_filename: "spiritual-unmask.png",
        description: {
          en: "Faith-friendly NoFap / reboot companion that shows how engineered sexual conditioning works, helps protect your brain and heart from harmful sexual content, and rebuilds a life of clarity, dignity, and worship. All plans, streaks, and notes stay fully local in your browser.",
          tr: "M√ºhendislik edilmi≈ü cinsel ko≈üullandƒ±rmanƒ±n nasƒ±l i≈ülediƒüini g√∂steren, zihnini ve kalbini zararlƒ± cinsel i√ßerikten korumana yardƒ±m eden iman dostu bir reboot rehberi. Baƒüƒ±mlƒ±lƒ±k d√∂ng√ºs√ºnden √ßƒ±kƒ±p berraklƒ±k, haysiyet ve ibadet dolu bir hayata d√∂nmen i√ßin planlar, seriler ve notlar tamamen cihazƒ±nda kalƒ±r.",
        },
        tags: {
          en: ["NoFap", "Faith", "Self-control", "Education"],
          tr: ["NoFap", "ƒ∞man", "√ñz-denetim", "Eƒüitim"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "nova-arena-3d",
        name: "Nova Arena 3D ¬∑ Rogue Survivor",
        category: "games",
        url: "https://candanumut.github.io/newbrotato/",
        previewUrl: "https://candanumut.github.io/newbrotato/",
        icon_filename: "games-nova-arena-3d.png",
        description: {
          en: "Top-down rogue-survivor in a Perlin-generated world of forests, rocks, lakes, and enemies. Dash, jump, experiment with different upgrades, and try to survive as long as possible in a living terrain that actually feels like ground.",
          tr: "Ormanlar, kayalar, g√∂ller ve d√º≈ümanlarla dolu Perlin √ºretimli bir d√ºnyada yukarƒ±dan g√∂r√ºn√º≈ül√º rogue-survivor. Fƒ±rlayƒ±p zƒ±pla, farklƒ± y√ºkseltmeleri dene ve ger√ßekten zemin gibi hissedilen ya≈üayan bir arazide olabildiƒüince uzun s√ºre hayatta kal.",
        },
        tags: {
          en: ["Action", "Roguelite", "3D", "Prototype"],
          tr: ["Aksiyon", "Roguelite", "3D", "Prototip"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "roulette-rooms",
        name: "Roulette Rooms ¬∑ Online Russian Roulette",
        category: "games",
        url: "https://candanumut.github.io/roulette",
        previewUrl: "https://candanumut.github.io/roulette",
        icon_filename: "games-roulette-rooms.png",
        description: {
          en: "Online Russian roulette party game with smooth animations. Spin up a room in seconds, share the link with friends, follow the built-in instructions, and track rounds on a shared scoreboard. Purely for fun ‚Äî gambling is not allowed.",
          tr: "Akƒ±cƒ± animasyonlara sahip √ßevrimi√ßi Rus ruleti parti oyunu. Saniyeler i√ßinde oda a√ß, baƒülantƒ±yƒ± arkada≈ülarƒ±nla payla≈ü, yerle≈üik talimatlarƒ± izle ve ortak skor tablosunda turlarƒ± takip et. Tamamen eƒülence i√ßin, kumar yok.",
        },
        tags: {
          en: ["Multiplayer", "Party", "Rooms", "Scoreboard"],
          tr: ["√áok oyunculu", "Parti", "Odalar", "Skor tablosu"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "high-or-low",
        name: "High or Low ¬∑ Live Card Guessing Rooms",
        category: "games",
        url: "https://candanumut.github.io/Highorlow/",
        previewUrl: "https://candanumut.github.io/Highorlow/",
        icon_filename: "games-high-or-low.png",
        description: {
          en: "Real-time card showdown where you and friends guess whether the next card will be higher, lower, or the same. Create a private room in seconds, watch turns update instantly, and enjoy a cozy multiplayer party game with no installs.",
          tr: "Bir sonraki kartƒ±n y√ºksek mi d√º≈ü√ºk m√º aynƒ± mƒ± olacaƒüƒ±nƒ± arkada≈ülarƒ±nla anlƒ±k olarak tahmin et. Saniyeler i√ßinde √∂zel oda kur, turlarƒ±n anƒ±nda g√ºncellendiƒüini izle ve kurulum gerektirmeyen sƒ±cak bir √ßok oyunculu parti oyununun tadƒ±nƒ± √ßƒ±kar.",
        },
        tags: {
          en: ["Multiplayer", "Cards", "Guessing", "Real-time"],
          tr: ["√áok oyunculu", "Kart", "Tahmin", "Anlƒ±k"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "mathbomb",
        name: "MathBomb ¬∑ Timed Math Dodgeball",
        category: "games",
        url: "https://candanumut.github.io/Mathbomb/",
        previewUrl: "https://candanumut.github.io/Mathbomb/",
        icon_filename: "games-mathbomb.png",
        description: {
          en: "Fast-paced online math duel. Answer the countdown question correctly to throw the bomb to the friend you choose; miss and it might explode in your hands. Build rooms, pick opponents, and sharpen mental math while laughing together.",
          tr: "Hƒ±zlƒ± tempolu √ßevrimi√ßi matematik d√ºellosu. Saya√ßlƒ± soruyu doƒüru cevaplayarak bombayƒ± se√ßtiƒüin arkada≈üa fƒ±rlat; ka√ßƒ±rƒ±rsan elinde patlayabilir. Oda kur, rakip se√ß ve birlikte g√ºlerek zihinsel matematiƒüini keskinle≈ütir.",
        },
        tags: {
          en: ["Multiplayer", "Math", "Timer", "Party"],
          tr: ["√áok oyunculu", "Matematik", "Zamanlayƒ±cƒ±", "Parti"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "scale-universe",
        name: "Scale of the Universe ¬∑ Tefekk√ºr Tool",
        category: "learning",
        url: "https://candanumut.github.io/Scaleuniverse/",
        previewUrl: "https://candanumut.github.io/Scaleuniverse/",
        icon_filename: "learning-scale-universe.png",
        description: {
          en: "An interactive visual journey from subatomic particles all the way to the edge of the observable universe. Designed for tefekk√ºr and humility: scroll through the scales, jump between atoms, cells, Earth, and galaxies, and feel how small (and special) human life really is.",
          tr: "Atom altƒ± par√ßacƒ±klardan g√∂zlemlenebilir evrenin sƒ±nƒ±rƒ±na uzanan etkile≈üimli bir g√∂rsel yolculuk. Tefekk√ºr ve tevazu i√ßin tasarlandƒ±: √∂l√ßekler arasƒ±nda kay, atomlardan h√ºcrelere, D√ºnya'dan galaksilere atla ve insan hayatƒ±nƒ±n ne kadar k√º√ß√ºk (ve √∂zel) olduƒüunu hisset.",
        },
        tags: {
          en: ["Education", "Cosmos", "Reflection", "Interactive"],
          tr: ["Eƒüitim", "Kozmos", "Tefekk√ºr", "Etkile≈üim"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "ready-to-die",
        name: "Hereafter Readiness Assessment",
        category: "spiritual",
        url: "https://candanumut.github.io/Readytodie/",
        previewUrl: "https://candanumut.github.io/Readytodie/",
        icon_filename: "spiritual-ready-to-die.png",
        description: {
          en: "A Qur‚Äôan & Sunnah‚Äìinspired self-accounting tool. Reflect on faith, worship, character, rights of others, knowledge, tawba and sincerity. Generates an approximate ‚ÄòAhirete hazƒ±rlƒ±k‚Äô score to show direction ‚Äî not a fatwa, just a gentle nudge to realign your life.",
          tr: "Kur‚Äôan ve S√ºnnet'ten ilham alan bir muhasebe aracƒ±. ƒ∞man, ibadet, ahlak, kul haklarƒ±, ilim, tevbe ve ihlas √ºzerine d√º≈ü√ºn. Hayata y√∂n vermek i√ßin yakla≈üƒ±k bir ‚ÄòAhirete hazƒ±rlƒ±k‚Äô puanƒ± √ºretir; fetva deƒüildir, sadece yumu≈üak bir hatƒ±rlatma.",
        },
        tags: {
          en: ["Faith", "Self-reflection", "Accountability"],
          tr: ["ƒ∞man", "√ñz muhasebe", "Sorumluluk"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "freedom-score",
        name: "Freedom Score ‚Äî Addiction & Habit Self-Assessment",
        category: "self-assessment",
        url: "https://candanumut.github.io/Addiction_test/",
        previewUrl: "https://candanumut.github.io/Addiction_test/",
        icon_filename: "self-assessment-freedom-score.png",
        description: {
          en: "A private, browser-only addiction & habit self-check. In 15 A/B/C/D questions it scans substances, phone & social media, gaming, food, lust, money, ego and spiritual grounding, then turns your answers into a single ‚ÄòFreedom Score‚Äô. Nothing is saved on any server; it‚Äôs not a medical diagnosis, just a clear mirror to see where you‚Äôre free, where you‚Äôre slipping, and where to start breaking chains.",
          tr: "Tamamen tarayƒ±cƒ±da √ßalƒ±≈üan, gizli bir baƒüƒ±mlƒ±lƒ±k ve alƒ±≈ükanlƒ±k √∂z deƒüerlendirme aracƒ±. 15 A/B/C/D soruyla madde kullanƒ±mƒ±, telefon ve sosyal medya, oyun, beslenme, ≈üehvet, para, ego ve manevi dayanƒ±klƒ±lƒ±k alanlarƒ±nƒ± tarar ve cevaplarƒ±nƒ± tek bir ‚Äò√ñzg√ºrl√ºk Skoru‚Äôna d√∂n√º≈üt√ºr√ºr. Hi√ßbir veri sunucuya gitmez; tƒ±bbi te≈ühis deƒüildir, sadece nerede √∂zg√ºr, nerede kaygan zeminde, nerede zincir kƒ±rmaya ba≈ülaman gerektiƒüini g√∂steren net bir ayna sunar.",
        },
        tags: {
          en: ["Addiction", "Habits", "Self-assessment", "Digital wellbeing", "Spiritual growth"],
          tr: ["Baƒüƒ±mlƒ±lƒ±k", "Alƒ±≈ükanlƒ±klar", "√ñz deƒüerlendirme", "Dijital denge", "Manevi geli≈üim"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },

      {
        id: "how-old",
        name: "Body & Mind Age Assessment",
        category: "wellness",
        url: "https://candanumut.github.io/Howold/",
        previewUrl: "https://candanumut.github.io/Howold/",
        icon_filename: "wellness-how-old.png",
        description: {
          en: "Science-inspired questionnaire to estimate your ‚Äòbody age‚Äô and ‚Äòmind age‚Äô based on sleep, movement, nutrition, stress, habits, social life, and meaning. Not a medical test ‚Äî just a mirror to see where lifestyle is keeping you young and where it‚Äôs quietly aging you.",
          tr: "Uyku, hareket, beslenme, stres, alƒ±≈ükanlƒ±klar, sosyal hayat ve anlam √ºzerinden ‚Äòbeden ya≈üƒ±‚Äô ve ‚Äòzihin ya≈üƒ±‚Äô tahmini yapan bilim esintili bir anket. Tƒ±bbi bir test deƒüil; ya≈üam tarzƒ±nƒ±n seni nerede gen√ß tuttuƒüunu, nerede sessizce ya≈ülandƒ±rdƒ±ƒüƒ±nƒ± g√∂steren bir ayna.",
        },
        tags: {
          en: ["Health", "Psychology", "Habits", "Self-awareness"],
          tr: ["Saƒülƒ±k", "Psikoloji", "Alƒ±≈ükanlƒ±k", "Farkƒ±ndalƒ±k"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "manevi-farkindalik",
        name: "Manev√Æ Farkƒ±ndalƒ±k Rehberi",
        category: "spiritual",
        url: "https://candanumut.github.io/hakikat_ucgeni/",
        previewUrl: "https://candanumut.github.io/hakikat_ucgeni/",
        icon_filename: "spiritual-manevi-farkindalik.png",
        description: {
          en: "Spiritual Awareness Companion that reminds you of the games of Shaytan, Nafs, and Dunya from a Qur‚Äôanic lens. Daily checklists, breathing exercises, notes, and protection tips help you take steady, meaningful steps each day.",
          tr: "Kur‚Äôan perspektifinden ≈üeytan, nefis ve d√ºnyanƒ±n oyunlarƒ±nƒ± hatƒ±rlatan Manev√Æ Farkƒ±ndalƒ±k Rehberi. G√ºnl√ºk check-list‚Äôler, nefes egzersizi, notlar ve korunma √∂nerileriyle her g√ºn k√º√ß√ºk ama istikrarlƒ± adƒ±mlar atmana yardƒ±m eder.",
        },
        tags: {
          en: ["Dhikr", "Mindfulness", "Checklist", "Protection"],
          tr: ["Zikir", "Farkƒ±ndalƒ±k", "Kontrol listesi", "Korunma"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "pru-universe-simulator",
        name: "PRU Universe Simulator ¬∑ Cosmos Sandbox",
        category: "learning",
        url: "https://candanumut.github.io/pru_simulation_engine/",
        previewUrl: "https://candanumut.github.io/pru_simulation_engine/",
        icon_filename: "learning-pru-universe-simulator.png",
        description: {
          en: "A 3D scientific visualization tool that lets you build star systems, watch galaxies form, and observe black holes through the Precomputed Relational Universe (PRU) model. Adjust variables live and explore mass density, curvature, and solar system motion.",
          tr: "Precomputed Relational Universe (PRU) modeliyle yƒ±ldƒ±z sistemleri kurmanƒ±, galaksi olu≈üumunu izlemeni ve kara delik etkilerini g√∂zlemlemeni saƒülayan 3B bilimsel g√∂rselle≈ütirme aracƒ±. Deƒüi≈ükenleri anlƒ±k d√ºzenle, k√ºtle yoƒüunluƒüu ve eƒürilik alanlarƒ±nƒ± ke≈üfet, G√ºne≈ü Sistemi hareketlerini incele.",
        },
        tags: {
          en: ["Simulation", "Cosmology", "3D", "Interactive"],
          tr: ["Sim√ºlasyon", "Kozmoloji", "3D", "Etkile≈üim"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "takva-race",
        name: "TakvaRace ¬∑ Sprint Toward Goodness",
        category: "games",
        url: "https://candanumut.github.io/adilstore-webapps/com.takvarace.takvarace/1.0.0/",
        previewUrl: "https://candanumut.github.io/adilstore-webapps/com.takvarace.takvarace/1.0.0/",
        icon_filename: "games-takva-race.png",
        description: {
          en: "A small arcade experiment from the Takva universe. Dash through a minimalist track while symbolically racing toward khayr and away from distractions. Built as a playful reminder that life is a race where direction matters more than raw speed.",
          tr: "Takva evreninden k√º√ß√ºk bir arcade denemesi. Minimalist parkurda hƒ±zla ilerlerken hayra doƒüru, dikkat daƒüƒ±tƒ±cƒ±lardan uzaƒüa sembolik bir yarƒ±≈ü ko≈ü. Hayatƒ±n, hƒ±zdan √ßok y√∂n√ºn √∂nemli olduƒüu bir yarƒ±≈ü olduƒüunu hatƒ±rlatmak i√ßin tasarlandƒ±.",
        },
        tags: {
          en: ["Arcade", "Prototype", "Takva"],
          tr: ["Arcade", "Prototip", "Takva"],
        },
        platforms: {
          en: ["Web", "Android (APK build)"],
          tr: ["Web", "Android (APK s√ºr√ºm√º)"],
        },
      },
      {
        id: "dreamsleep",
        name: "DreamSleep ¬∑ Gentle Night Companion",
        category: "wellness",
        url: "https://candanumut.github.io/adilstore-webapps/com.dreamsleep.dreamsleep/1.0.0/",
        previewUrl: "https://candanumut.github.io/adilstore-webapps/com.dreamsleep.dreamsleep/1.0.0/",
        icon_filename: "wellness-dreamsleep.png",
        description: {
          en: "A calm sleep helper focused on better nights and kinder mornings. Mix soothing sounds and intentional routines, and use it together with your own sleep habits and dua to slowly rebuild a healthier relationship with rest.",
          tr: "Daha iyi geceler ve daha yumu≈üak sabahlar i√ßin sakin bir uyku yardƒ±mcƒ±sƒ±. Sakinle≈ütirici sesleri ve niyetli rutinleri karƒ±≈ütƒ±r, kendi uyku alƒ±≈ükanlƒ±klarƒ±n ve dualarƒ±nla birlikte kullanarak dinlenmeyle daha saƒülƒ±klƒ± bir ili≈ükiyi yava≈ü√ßa kur.",
        },
        tags: {
          en: ["Sleep", "Relaxation", "Routine"],
          tr: ["Uyku", "Rahatlama", "Rutin"],
        },
        platforms: { en: ["Web build", "Android"], tr: ["Web s√ºr√ºm√º", "Android"] },
      },
      {
        id: "pdf-reader",
        name: "Minimalist PDF Reader",
        category: "tools",
        url: "https://candanumut.github.io/adilstore-webapps/com.example.pdfreader/1.0.1/",
        previewUrl: "https://candanumut.github.io/adilstore-webapps/com.example.pdfreader/1.0.1/",
        icon_filename: "tools-pdf-reader.png",
        description: {
          en: "Lightweight, distraction-free PDF reader. No ads, no analytics, no nonsense ‚Äî just open your files and read. Built for people who want to escape bloated readers and keep documents simple and local.",
          tr: "Hafif ve dikkat daƒüƒ±tmayan bir PDF okuyucu. Reklam yok, analitik yok, gereksiz √∂zellik yok ‚Äî dosyalarƒ±nƒ± a√ßƒ±p oku. ≈ûi≈ükin okuyuculardan ka√ßƒ±p belgelerini basit ve yerelde tutmak isteyenler i√ßin yapƒ±ldƒ±.",
        },
        tags: {
          en: ["Productivity", "Reader", "Offline-friendly"],
          tr: ["Verimlilik", "Okuyucu", "√áevrimdƒ±≈üƒ± dostu"],
        },
        platforms: { en: ["Web build", "Android"], tr: ["Web s√ºr√ºm√º", "Android"] },
      },
      {
        id: "zikr-checker",
        name: "ZikrChecker ¬∑ Daily Remembrance Tracker",
        category: "spiritual",
        url: "https://candanumut.github.io/adilstore-webapps/com.example.zikrchecker/1.0.9/",
        previewUrl: "https://candanumut.github.io/adilstore-webapps/com.example.zikrchecker/1.0.9/",
        icon_filename: "spiritual-zikr-checker.png",
        description: {
          en: "A simple, focused dashboard to keep track of daily spiritual actions: istighfar, salawat, Qur‚Äôan reading, gratitude, and good deeds. Designed to build istiqamah gently ‚Äî small consistent steps instead of guilt and burnout.",
          tr: "G√ºnl√ºk manevi amelleri takip etmek i√ßin sade bir pano: istiƒüfar, salavat, Kur‚Äôan okuma, ≈ü√ºk√ºr ve hayƒ±rlƒ± i≈üler. ƒ∞stikameti nazik√ße in≈üa etmek i√ßin tasarlandƒ± ‚Äî su√ßluluk ve t√ºkenmi≈ülik yerine k√º√ß√ºk ama tutarlƒ± adƒ±mlar.",
        },
        tags: {
          en: ["Dhikr", "Habits", "Dashboard"],
          tr: ["Zikir", "Alƒ±≈ükanlƒ±k", "Pano"],
        },
        platforms: { en: ["Web build", "Android"], tr: ["Web s√ºr√ºm√º", "Android"] },
      },
      {
        id: "climate-change-dashboard",
        name: "Climate Change Awareness Dashboard",
        category: "environment",
        url: "https://candanumut.github.io/Climatechange/",
        previewUrl: "https://candanumut.github.io/Climatechange/",
        icon_filename: "environment-climate-change-dashboard.png",
        description: {
          en: "A climate change awareness dashboard built on live weather and air-quality data. Explore temperature, rain, wind, air pollution and perceived risk with clear graphs and city-based comparisons. Shows how today‚Äôs local weather connects to the bigger climate story so anyone can see trends, reflect on their lifestyle, and take action ‚Äî all in a simple, bilingual interface.",
          tr: "Ger√ßek zamanlƒ± hava durumu ve hava kalitesi verilerine dayalƒ± bir iklim deƒüi≈üikliƒüi farkƒ±ndalƒ±k paneli. Sƒ±caklƒ±k, yaƒüƒ±≈ü, r√ºzg√¢r, hava kirliliƒüi ve risk algƒ±sƒ±nƒ± net grafiklerle ve ≈üehir bazlƒ± kar≈üƒ±la≈ütƒ±rmalarla g√∂sterir. Bug√ºnk√º yerel havanƒ±n b√ºy√ºk iklim tablosuyla nasƒ±l baƒülantƒ±lƒ± olduƒüunu g√∂r√ºn, eƒüilimleri fark edin, hayat tarzƒ±nƒ±zƒ± sorgulayƒ±n ve adƒ±m atƒ±n. Hepsi sade ve iki dilli bir aray√ºzde.",
        },
        tags: {
          en: ["Climate change", "Environment", "Weather", "Air quality", "Data visualization"],
          tr: ["ƒ∞klim deƒüi≈üikliƒüi", "√áevre", "Hava durumu", "Hava kalitesi", "Veri g√∂rselle≈ütirme"],
        },
        platforms: { en: ["Web"], tr: ["Web"] },
      },
      {
        id: "healing-sounds",
        name: "Healing Sounds ¬∑ Frequency & Sound Baths",
        category: "wellness",
        url: "https://play.google.com/store/apps/details?id=com.healing.healingsound.healingsounds",
        previewUrl:
          "https://play.google.com/store/apps/details?id=com.healing.healingsound.healingsounds",
        icon_filename: "wellness-healing-sounds.png",
        description: {
          en: "A collection of calming soundscapes, nature ambience, and frequency-based tracks to support focus, relaxation, and meditation. Use it to wind down, create a soft background while you work, or deepen reflection and prayer.",
          tr: "Odaklanma, rahatlama ve meditasyonu desteklemek i√ßin sakinle≈ütirici soundscape'ler, doƒüa ambiyanslarƒ± ve frekans temelli par√ßalar. G√ºn√ºn yorgunluƒüunu atmak, √ßalƒ±≈üƒ±rken yumu≈üak bir arka plan olu≈üturmak veya tefekk√ºr ve duayƒ± derinle≈ütirmek i√ßin kullan.",
        },
        tags: {
          en: ["Sound therapy", "Meditation", "Relaxation"],
          tr: ["Ses terapisi", "Meditasyon", "Rahatlama"],
        },
        platforms: { en: ["Android (Google Play)"], tr: ["Android (Google Play)"] },
      },
      {
        id: "awakening",
        name: "Awakening ¬∑ Mindful Wake-Up",
        category: "wellness",
        url: "https://play.google.com/store/apps/details?id=com.wakeup.wakeup.awakening",
        previewUrl:
          "https://play.google.com/store/apps/details?id=com.wakeup.wakeup.awakening",
        icon_filename: "wellness-awakening.png",
        description: {
          en: "A meditation-first wake-up app. Instead of starting the day with chaos and social feeds, Awakening invites you to breathe, remember your values, and step into the morning with clarity and gratitude ‚Äî with no tracking behind the scenes.",
          tr: "G√ºne meditasyonla ba≈ülaman i√ßin bir alarm uygulamasƒ±. Sabahƒ± kaos ve sosyal akƒ±≈ülarla a√ßmak yerine derin nefes almaya, deƒüerlerini hatƒ±rlamaya ve ≈ü√ºk√ºrle berrak bir g√ºne adƒ±m atmaya davet eder ‚Äî arkada takip kodu olmadan.",
        },
        tags: {
          en: ["Meditation", "Morning routine", "Mindfulness"],
          tr: ["Meditasyon", "Sabah rutini", "Farkƒ±ndalƒ±k"],
        },
        platforms: { en: ["Android (Google Play)"], tr: ["Android (Google Play)"] },
      },
      {
        id: "hopy-tower-3",
        name: "Hopy Tower 3 ¬∑ Vertical Challenge",
        category: "games",
        url: "https://play.google.com/store/apps/details?id=com.hopy_tower3.hopy.hopy_tower3",
        previewUrl:
          "https://play.google.com/store/apps/details?id=com.hopy_tower3.hopy.hopy_tower3",
        icon_filename: "games-hopy-tower-3.png",
        description: {
          en: "Fast, vertical arcade game where you climb a colorful tower, time your jumps, and try not to fall. Built for short, satisfying sessions when you just want a quick break without getting sucked into an endless feed.",
          tr: "Renkli bir kuleyi tƒ±rmandƒ±ƒüƒ±n, zƒ±plamalarƒ±nƒ± zamanladƒ±ƒüƒ±n ve d√º≈ümemeye √ßalƒ±≈ütƒ±ƒüƒ±n hƒ±zlƒ± bir dikey arcade oyunu. Sonsuz bir akƒ±≈üa kapƒ±lmadan kƒ±sa ve tatmin edici oyun seanslarƒ± i√ßin yapƒ±ldƒ±.",
        },
        tags: {
          en: ["Arcade", "Casual", "Mobile"],
          tr: ["Arcade", "G√ºndelik", "Mobil"],
        },
        platforms: { en: ["Android (Google Play)"], tr: ["Android (Google Play)"] },
      },

            // ===== Curated external / open-source staples =====
      {
        id: "joplin-notes",
        name: "Joplin ¬∑ Encrypted Notes & To-Dos",
        category: "tools",
        url: "https://joplinapp.org/",
        previewUrl: "https://joplinapp.org/",
        icon_filename: "tools-joplin-notes.svg",
        description: {
          en: "Open-source notes and to-do app with end-to-end encryption, Markdown, notebooks and tags. Sync via Joplin Cloud or your own Nextcloud/WebDAV so your second brain stays portable and under your control.",
          tr: "U√ßtan uca ≈üifreleme, Markdown, defterler ve etiketler sunan a√ßƒ±k kaynaklƒ± not ve yapƒ±lacaklar uygulamasƒ±. Joplin Cloud veya kendi Nextcloud/WebDAV sunucunla e≈üitle; ikinci beynin ta≈üƒ±nabilir ve senin kontrol√ºnde kalsƒ±n.",
        },
        tags: {
          en: ["Open-source", "Encrypted", "Markdown", "Sync"],
          tr: ["A√ßƒ±k kaynak", "≈ûifreli", "Markdown", "E≈üitleme"],
        },
        platforms: {
          en: ["Windows", "macOS", "Linux", "Android", "iOS"],
          tr: ["Windows", "macOS", "Linux", "Android", "iOS"],
        },
      },
      {
        id: "standard-notes",
        name: "Standard Notes ¬∑ Long-term Notes Vault",
        category: "tools",
        url: "https://standardnotes.com/",
        previewUrl: "https://standardnotes.com/",
        icon_filename: "tools-standard-notes.svg",
        description: {
          en: "Zero-knowledge encrypted note system with simple core and powerful optional editors. Built for 10+ years of safe note-keeping, not for harvesting your data.",
          tr: "Sƒ±fƒ±r bilgi ≈üifrelemeli, sade ama g√º√ßl√º edit√∂rlere sahip not sistemi. Verini toplamak i√ßin deƒüil, 10+ yƒ±l g√ºvenli not tutman i√ßin tasarlandƒ±.",
        },
        tags: {
          en: ["Encrypted", "Open-source", "Long-term", "Sync"],
          tr: ["≈ûifreli", "A√ßƒ±k kaynak", "Uzun vadeli", "E≈üitleme"],
        },
        platforms: {
          en: ["Web", "Windows", "macOS", "Linux", "Android", "iOS"],
          tr: ["Web", "Windows", "macOS", "Linux", "Android", "iOS"],
        },
      },
      {
        id: "proton-mail",
        name: "Proton Mail ¬∑ Encrypted Email",
        category: "tools",
        url: "https://proton.me/mail",
        previewUrl: "https://proton.me/mail",
        icon_filename: "tools-proton-mail.svg",
        description: {
          en: "End-to-end encrypted email from Proton‚Äôs privacy suite. Open-source apps, zero-access encryption and servers in Switzerland ‚Äî email that isn‚Äôt built on spying.",
          tr: "Proton‚Äôun mahremiyet odaklƒ± paketinden u√ßtan uca ≈üifreli e-posta. A√ßƒ±k kaynak uygulamalar, sƒ±fƒ±r eri≈üim ≈üifreleme ve ƒ∞svi√ßre sunucularƒ± ‚Äî g√∂zetleme √ºzerine kurulu olmayan e-posta.",
        },
        tags: {
          en: ["Email", "Encrypted", "Open-source", "Privacy"],
          tr: ["E-posta", "≈ûifreli", "A√ßƒ±k kaynak", "Mahremiyet"],
        },
        platforms: {
          en: ["Web", "Android", "iOS"],
          tr: ["Web", "Android", "iOS"],
        },
      },
      {
        id: "tuta-mail",
        name: "Tuta ¬∑ Private Mail & Calendar",
        category: "tools",
        url: "https://tuta.com/",
        previewUrl: "https://tuta.com/",
        icon_filename: "tools-tuta-mail.svg",
        description: {
          en: "Open-source, end-to-end encrypted email and calendar with a clean interface. Based in Germany with a strong no-tracking, no-ads stance.",
          tr: "A√ßƒ±k kaynaklƒ±, u√ßtan uca ≈üifreli e-posta ve takvim. Almanya merkezli; takip yok, reklam yok, sade bir aray√ºzle geliyor.",
        },
        tags: {
          en: ["Email", "Calendar", "Encrypted", "Open-source"],
          tr: ["E-posta", "Takvim", "≈ûifreli", "A√ßƒ±k kaynak"],
        },
        platforms: {
          en: ["Web", "Android", "iOS"],
          tr: ["Web", "Android", "iOS"],
        },
      },
      {
        id: "proton-drive",
        name: "Proton Drive ¬∑ Encrypted Cloud Storage",
        category: "tools",
        url: "https://proton.me/drive",
        previewUrl: "https://proton.me/drive",
        icon_filename: "tools-proton-drive.svg",
        description: {
          en: "End-to-end encrypted cloud storage and file sharing from the Proton ecosystem. Store docs, photos and backups without handing your life to an ad company.",
          tr: "Proton ekosisteminden u√ßtan uca ≈üifreli bulut depolama ve dosya payla≈üƒ±mƒ±. Belgelerini, fotoƒüraflarƒ±nƒ± ve yedeklerini bir reklam ≈üirketine teslim etmeden sakla.",
        },
        tags: {
          en: ["Cloud", "Encrypted", "Files", "Backup"],
          tr: ["Bulut", "≈ûifreli", "Dosyalar", "Yedekleme"],
        },
        platforms: {
          en: ["Web", "Windows", "macOS", "Android", "iOS"],
          tr: ["Web", "Windows", "macOS", "Android", "iOS"],
        },
      },
      {
        id: "bitwarden",
        name: "Bitwarden ¬∑ Password Manager",
        category: "tools",
        url: "https://bitwarden.com/",
        previewUrl: "https://vault.bitwarden.com/#/register",
        icon_filename: "tools-bitwarden.svg",
        description: {
          en: "Open-source, zero-knowledge password manager with vault sharing and two factor support. One master password; everything else can be 40+ random characters.",
          tr: "A√ßƒ±k kaynaklƒ±, sƒ±fƒ±r bilgi parol y√∂neticisi. Kasa payla≈üƒ±mƒ± ve iki adƒ±mlƒ± doƒürulama desteƒüiyle gelir. Bir ana parola; gerisi 40+ rastgele karakter olabilir.",
        },
        tags: {
          en: ["Passwords", "Security", "Open-source", "Privacy"],
          tr: ["Parolalar", "G√ºvenlik", "A√ßƒ±k kaynak", "Mahremiyet"],
        },
        platforms: {
          en: ["Web", "Browser extensions", "Windows", "macOS", "Linux", "Android", "iOS"],
          tr: ["Web", "Tarayƒ±cƒ± eklentileri", "Windows", "macOS", "Linux", "Android", "iOS"],
        },
      },
      {
        id: "nextcloud-hub",
        name: "Nextcloud Hub ¬∑ Self-hosted Cloud",
        category: "tools",
        url: "https://nextcloud.com/",
        previewUrl: "https://nextcloud.com/",
        icon_filename: "tools-nextcloud-hub.svg",
        description: {
          en: "Full open-source cloud you can self-host: files, photos, calendar, contacts, tasks and more. Like your own private Google Workspace that lives on a server you control.",
          tr: "Kendin barƒ±ndƒ±rabildiƒüin tam a√ßƒ±k kaynak bulut: dosyalar, fotoƒüraflar, takvim, ki≈üiler, g√∂revler ve daha fazlasƒ±. Kendi kontrol√ºndeki sunucuda ya≈üayan √∂zel bir Google Workspace gibi.",
        },
        tags: {
          en: ["Self-hosted", "Cloud", "Files", "Calendar"],
          tr: ["Kendi sunucun", "Bulut", "Dosyalar", "Takvim"],
        },
        platforms: {
          en: ["Web", "Android", "iOS", "Desktop sync apps"],
          tr: ["Web", "Android", "iOS", "Masa√ºst√º istemciler"],
        },
      },
      {
        id: "openstreetmap",
        name: "OpenStreetMap ¬∑ Community-powered Maps",
        category: "tools",
        url: "https://www.openstreetmap.org/",
        previewUrl: "https://www.openstreetmap.org/",
        icon_filename: "tools-openstreetmap.svg",
        description: {
          en: "Collaboratively edited world map. Anonymous to use, free to embed, and improved by volunteers instead of ad-tech. A clean base map for navigation, research or just exploring cities.",
          tr: "G√∂n√ºll√ºler tarafƒ±ndan birlikte d√ºzenlenen d√ºnya haritasƒ±. Anonim kullanƒ±labilir, g√∂mmesi √ºcretsiz ve reklam teknolojisi yerine topluluk tarafƒ±ndan iyile≈ütirilir. Navigasyon, ara≈ütƒ±rma veya ≈üehirleri ke≈üfetmek i√ßin temiz bir temel harita.",
        },
        tags: {
          en: ["Maps", "Open data", "Navigation"],
          tr: ["Haritalar", "A√ßƒ±k veri", "Navigasyon"],
        },
        platforms: {
          en: ["Web", "Mobile apps via many clients"],
          tr: ["Web", "Bir√ßok istemci √ºzerinden mobil uygulamalar"],
        },
      },
      {
        id: "cryptpad",
        name: "CryptPad ¬∑ Encrypted Docs & Boards",
        category: "tools",
        url: "https://cryptpad.fr/",
        previewUrl: "https://cryptpad.fr/",
        icon_filename: "tools-cryptpad.svg",
        description: {
          en: "Open-source, end-to-end encrypted collaboration suite: notes, docs, sheets, kanban, whiteboards and more. A privacy-respecting alternative to Google Docs style tools.",
          tr: "Notlar, belgeler, tablolar, kanban panolarƒ±, beyaz tahta ve daha fazlasƒ±nƒ± sunan a√ßƒ±k kaynaklƒ±, u√ßtan uca ≈üifreli i≈übirliƒüi paketi. Google Dok√ºmanlar tarzƒ± ara√ßlara mahremiyet odaklƒ± bir alternatif.",
        },
        tags: {
          en: ["Collaboration", "Encrypted", "Docs", "Open-source"],
          tr: ["ƒ∞≈übirliƒüi", "≈ûifreli", "Belgeler", "A√ßƒ±k kaynak"],
        },
        platforms: {
          en: ["Web"],
          tr: ["Web"],
        },
      },
      {
        id: "collabora-online",
        name: "Collabora Online ¬∑ LibreOffice in the Browser",
        category: "tools",
        url: "https://www.collaboraonline.com/",
        previewUrl: "https://www.collaboraonline.com/",
        icon_filename: "tools-collabora-online.svg",
        description: {
          en: "LibreOffice-based online office suite for documents, spreadsheets and presentations with real-time collaboration. Often self-hosted together with Nextcloud as a private Google Docs replacement.",
          tr: "Belgeler, tablolar ve sunumlar i√ßin ger√ßek zamanlƒ± i≈übirliƒüi sunan, LibreOffice tabanlƒ± √ßevrimi√ßi ofis paketi. √áoƒüunlukla Nextcloud ile birlikte barƒ±ndƒ±rƒ±larak √∂zel bir Google Dok√ºmanlar alternatifi olarak kullanƒ±lƒ±r.",
        },
        tags: {
          en: ["Office", "Collaboration", "Open-source"],
          tr: ["Ofis", "ƒ∞≈übirliƒüi", "A√ßƒ±k kaynak"],
        },
        platforms: {
          en: ["Web", "Self-hosted"],
          tr: ["Web", "Kendi sunucun"],
        },
      },

    ];

    let apps = [...FALLBACK_APPS];
    let hasSupabaseBackend = false;
    let appRatings = {};

    const CATEGORY_ORDER = [
      "all",
      "spiritual",
      "wellness",
      "learning",
      "games",
      "tools",
      "environment",
      "self-assessment",
    ];

    const SUPABASE_URL = "https://jezaquyloiwzzaetmpsc.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImplemFxdXlsb2l3enphZXRtcHNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODYzMTIsImV4cCI6MjA3MDY2MjMxMn0.mcYMxCI_5O3z9ryi90UQHpUOemY7fKKmWmMpDJFOeao";
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const appGrid = document.getElementById("appGrid");
    const filtersEl = document.getElementById("filters");
    const resultsCounter = document.getElementById("resultsCounter");
    const metricApps = document.getElementById("metricApps");
    const emptyState = document.getElementById("emptyState");
    const searchInput = document.getElementById("searchInput");
    const searchWrap = document.getElementById("searchWrap");
    const searchClear = document.getElementById("searchClear");
    const featuredRow = document.getElementById("featuredRow");
    const languageToggle = document.getElementById("languageToggle");
    const heroAppCard = document.getElementById("heroAppCard");

    let currentCategory = "all";
    let currentSearch = "";
    let currentLang = "en";

    function t(path) {
      const keys = path.split(".");
      return keys.reduce((obj, key) => (obj ? obj[key] : ""), translations[currentLang]) || "";
    }

    function getLocalizedText(value) {
      if (value && typeof value === "object" && !Array.isArray(value)) {
        return value[currentLang] || value.en || Object.values(value)[0] || "";
      }
      return value || "";
    }

    function getLocalizedList(value) {
      if (Array.isArray(value)) return value;
      if (value && typeof value === "object") {
        return value[currentLang] || value.en || [];
      }
      return [];
    }

    function getIconHtml(app) {
      if (app.icon_filename) {
        return `<img src="icons/${app.icon_filename}" alt="${app.name} icon" class="app-icon-img" />`;
      }
      return app.name.charAt(0);
    }


    function supportsPreview(app) {
      const url = app.previewUrl || app.url || "";
      if (!url) return false;
      if (/play\.google\.com/i.test(url)) return false;
      return true;
    }

    function renderStars(avg) {
      if (!avg || avg <= 0) {
        return "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
          .split("")
          .map(() => `<span class="star empty">‚òÜ</span>`)
          .join("");
      }
      const full = Math.floor(avg);
      const hasHalf = avg - full >= 0.5;
      const total = 5;
      let html = "";
      for (let i = 1; i <= total; i++) {
        if (i <= full) {
          html += `<span class="star full">‚òÖ</span>`;
        } else if (i === full + 1 && hasHalf) {
          html += `<span class="star half">‚òÖ</span>`;
        } else {
          html += `<span class="star empty">‚òÜ</span>`;
        }
      }
      return html;
    }

    function getRatingSummaryText(info) {
      if (!info || !info.count) {
        return currentLang === "tr" ? "Hen√ºz puan yok" : "No ratings yet";
      }
      const countText = currentLang === "tr" ? `${info.count} oy` : `${info.count} rating${info.count > 1 ? "s" : ""}`;
      const avgText = info.avg ? info.avg.toFixed(1) : "";
      return avgText ? `${avgText} ¬∑ ${countText}` : countText;
    }

    async function loadAppsFromSupabase() {
      if (!SUPABASE_URL || SUPABASE_URL === "https://" || !SUPABASE_ANON_KEY) {
        apps = [...FALLBACK_APPS];
        hasSupabaseBackend = false;
        await loadRatingsFromSupabase();
        renderFilters();
        renderApps();
        renderFeatured();
        renderHeroApp();
        return;
      }

      const { data, error } = await supabase
        .from("adil_apps")
        .select("*")
        .eq("is_published", true)
        .order("is_featured", { ascending: false })
        .order("sort_order", { ascending: true })
        .order("created_at", { ascending: false });

      if (error || !data || !data.length) {
        apps = [...FALLBACK_APPS];
        hasSupabaseBackend = false;
      } else {
        apps = data.map((row) => ({
          id: row.id,
          slug: row.slug,
          name: row.name,
          category: row.category,
          url: row.url,
          previewUrl: row.preview_url || row.url,
          description: {
            en: row.description_en || "",
            tr: row.description_tr || row.description_en || "",
          },
          tags: {
            en: row.tags_en || [],
            tr: row.tags_tr || row.tags_en || [],
          },
          platforms: {
            en: row.platforms_en || [],
            tr: row.platforms_tr || row.platforms_en || [],
          },
          icon_filename: row.icon_filename || null,
          is_featured: !!row.is_featured,
          is_external: row.is_external,
        }));
        hasSupabaseBackend = true;
      }

      await loadRatingsFromSupabase();
      renderFilters();
      renderApps();
      renderFeatured();
      renderHeroApp();
    }

    async function loadRatingsFromSupabase() {
      if (!hasSupabaseBackend) {
        appRatings = {};
        return;
      }

      const { data, error } = await supabase
        .from("adil_app_ratings")
        .select("app_id, score, nickname, comment, created_at")
        .order("created_at", { ascending: false });

      if (error || !data) {
        console.error("Failed to load ratings", error);
        appRatings = {};
        return;
      }

      const map = {};
      for (const row of data) {
        const appId = row.app_id;
        if (!map[appId]) {
          map[appId] = {
            sum: 0,
            count: 0,
            latest: [],
          };
        }
        map[appId].sum += row.score;
        map[appId].count += 1;
        if (row.comment && map[appId].latest.length < 3) {
          map[appId].latest.push({
            nickname: row.nickname,
            comment: row.comment,
            created_at: row.created_at,
          });
        }
      }

      appRatings = {};
      for (const [appId, info] of Object.entries(map)) {
        const avg = info.count ? info.sum / info.count : null;
        appRatings[appId] = {
          avg,
          count: info.count,
          latest: info.latest,
        };
      }
    }

    const submissionForm = document.getElementById("submissionForm");
    const submitMessage = document.getElementById("submitMessage");

    if (submissionForm) {
      submissionForm.addEventListener("submit", async (event) => {
        event.preventDefault();
        if (!SUPABASE_URL || SUPABASE_URL === "https://" || !SUPABASE_ANON_KEY) {
          submitMessage.textContent =
            currentLang === "tr"
              ? "≈ûu anda ba≈üvuru sistemi yapƒ±landƒ±rƒ±lmamƒ±≈ü. L√ºtfen daha sonra tekrar deneyin."
              : "Submissions are not configured yet. Please try again later.";
          submitMessage.className = "submit-message error";
          return;
        }

        const formData = new FormData(submissionForm);
        const iconFile = /** @type {File} */ (formData.get("icon_file"));
        const payload = {
          app_name: formData.get("app_name")?.toString().trim(),
          app_url: formData.get("app_url")?.toString().trim(),
          category: formData.get("category") || null,
          description: formData.get("description")?.toString().trim() || null,
          contact_email: formData.get("contact_email")?.toString().trim() || null,
          extra_notes: formData.get("extra_notes")?.toString().trim() || null,
        };

        submitMessage.textContent = currentLang === "tr" ? "G√∂nderiliyor‚Ä¶" : "Sending...";
        submitMessage.className = "submit-message";

        if (iconFile && iconFile.size > 0) {
          const ext = iconFile.name.includes(".") ? iconFile.name.split(".").pop() : "png";
          const randomPart = Math.random().toString(36).slice(2);
          const storagePath = `submissions/${Date.now()}-${randomPart}.${ext}`;
          const { error: uploadError } = await supabase.storage
            .from("adil-icons")
            .upload(storagePath, iconFile, {
              contentType: iconFile.type || "image/png",
              upsert: false,
            });
          if (uploadError) {
            console.error(uploadError);
          } else {
            payload.icon_path = storagePath;
          }
        }

        const { error } = await supabase.from("adil_app_submissions").insert(payload);
        if (error) {
          console.error(error);
          submitMessage.textContent =
            currentLang === "tr"
              ? "Bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin."
              : "Something went wrong. Please try again later.";
          submitMessage.className = "submit-message error";
        } else {
          submissionForm.reset();
          submitMessage.textContent =
            currentLang === "tr"
              ? "Te≈üekk√ºrler! Uygulama ba≈üvurunuz bize ula≈ütƒ±. Yayƒ±nlanmadan √∂nce elle inceleyeceƒüiz."
              : "Thank you! Your app submission has been received. We will review it manually before publishing.";
          submitMessage.className = "submit-message success";
        }
      });
    }

    function togglePreview(preview, btn, iframe, previewUrl = "") {
      if (!preview || !btn || !iframe) return;
      const isActive = preview.classList.contains("active");

      if (isActive) {
        preview.classList.remove("active", "preview-loading");
        preview.setAttribute("aria-hidden", "true");
        btn.querySelector("span.icon").textContent = "‚ñ∂";
        btn.querySelector("span:last-child").textContent = translations[currentLang].buttons.live;
        return;
      }

      preview.classList.add("active", "preview-loading");
      if (!iframe.src) {
        iframe.src = previewUrl || btn.dataset.previewUrl || "";
      }
      let timeoutId;
      const handleLoad = () => {
        preview.classList.remove("preview-loading");
        iframe.removeEventListener("load", handleLoad);
        if (timeoutId) window.clearTimeout(timeoutId);
      };
      timeoutId = window.setTimeout(() => {
        if (!preview.classList.contains("preview-loading")) return;
        preview.classList.remove("active", "preview-loading");
        preview.setAttribute("aria-hidden", "true");
        iframe.removeEventListener("load", handleLoad);
        iframe.src = "";
        btn.disabled = true;
        btn.classList.add("disabled");
        const iconSpan = btn.querySelector("span.icon");
        const labelSpan = btn.querySelector("span:last-child");
        if (iconSpan) iconSpan.textContent = "üö´";
        if (labelSpan) labelSpan.textContent = translations[currentLang].buttons.unavailable;
        preview.remove();
      }, 6000);
      iframe.addEventListener("load", handleLoad);
      preview.setAttribute("aria-hidden", "false");
      btn.querySelector("span.icon").textContent = "‚èπ";
      btn.querySelector("span:last-child").textContent = translations[currentLang].buttons.hide;
    }

    function setLanguage(lang) {
      if (!translations[lang]) return;
      currentLang = lang;
      window.localStorage.setItem("umut-lang", lang);
      document.documentElement.lang = lang;
      updateLanguageToggle();
      applyTranslations();
      renderFilters();
      renderApps();
      renderFeatured();
      renderHeroApp();
    }

    function initLanguage() {
      const stored = window.localStorage.getItem("umut-lang");
      currentLang = stored && translations[stored] ? stored : "en";
      document.documentElement.lang = currentLang;
      updateLanguageToggle();
      applyTranslations();
    }

    function updateLanguageToggle() {
      languageToggle.querySelectorAll(".lang-option").forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.lang === currentLang);
      });
    }

    function applyTranslations() {
      document.querySelector('[data-i18n="heroKicker"]').textContent = t("heroKicker");
      document.querySelector('[data-i18n="heroTitle"]').textContent = t("heroTitle");
      document.querySelector('[data-i18n="heroSubtitle"]').textContent = t("heroSubtitle");
      const heroNote = document.querySelector('[data-i18n="heroNote"]');
      if (heroNote) heroNote.textContent = t("heroNote");
      document.querySelector('[data-i18n="metrics.apps"]').textContent = t("metrics.apps");
      document.querySelector('[data-i18n="metrics.privacy"]').textContent = t("metrics.privacy");
      document.querySelector('[data-i18n="metrics.privacyValue"]').textContent = t("metrics.privacyValue");
      document.querySelector('[data-i18n="metrics.platforms"]').textContent = t("metrics.platforms");
      document.querySelector('[data-i18n="metrics.platformsValue"]').textContent = t("metrics.platformsValue");
      document.querySelector('[data-i18n="featuredTitle"]').textContent = t("featuredTitle");
      document.querySelector('[data-i18n="allAppsTitle"]').textContent = t("allAppsTitle");
      document.querySelector('[data-i18n="empty.title"]').textContent = t("empty.title");
      document.querySelector('[data-i18n="empty.subtitle"]').textContent = t("empty.subtitle");
      document.querySelector('[data-i18n="footer.line1"]').innerHTML = t("footer.line1");
      document.querySelector('[data-i18n="footer.line2"]').innerHTML = t("footer.line2");
      document.querySelector(".theme-label").textContent =
        document.documentElement.getAttribute("data-theme") === "light" ? t("theme.light") : t("theme.dark");
      searchInput.setAttribute("placeholder", t("searchPlaceholder"));
      searchClear.setAttribute("aria-label", t("searchClear"));
      const submitTitle = document.querySelector('[data-i18n="submit.title"]');
      if (submitTitle) submitTitle.textContent = t("submit.title");
      const submitSubtitle = document.querySelector('[data-i18n="submit.subtitle"]');
      if (submitSubtitle) submitSubtitle.textContent = t("submit.subtitle");
      document.querySelectorAll('[data-i18n^="submit."]').forEach((node) => {
        const key = node.getAttribute("data-i18n");
        const text = t(key);
        if (text) node.textContent = text;
      });
      document.querySelectorAll('[data-i18n^="categories."]').forEach((node) => {
        const key = node.getAttribute("data-i18n");
        const label = t(key);
        if (label) node.textContent = label;
      });
    }

    // derive counts by category for display
    function countByCategory(appsList) {
      const base = { all: appsList.length };
      return appsList.reduce((acc, app) => {
        acc[app.category] = (acc[app.category] || 0) + 1;
        return acc;
      }, base);
    }

    function getDayOfYear(date = new Date()) {
      const start = new Date(date.getFullYear(), 0, 0);
      const diff =
        date - start +
        (start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000;
      return Math.floor(diff / (1000 * 60 * 60 * 24));
    }

    function getHeroApp() {
      if (!apps.length) return null;
      const eligible = apps.filter((app) => Boolean(app.url));
      if (!eligible.length) return null;

      const dayIndex = getDayOfYear() % eligible.length;
      return eligible[dayIndex];
    }

    function renderHeroApp() {
      if (!heroAppCard) return;
      const heroApp = getHeroApp();
      if (!heroApp) {
        heroAppCard.innerHTML = "";
        return;
      }

      const description = getLocalizedText(heroApp.description) || "";
      const shortDescription = description.length > 220 ? `${description.slice(0, 220)}‚Ä¶` : description;
      const tags = getLocalizedList(heroApp.tags).slice(0, 3);
      const platforms = getLocalizedList(heroApp.platforms).slice(0, 2);
      const isPlayStore = heroApp.url.includes("play.google.com");
      const iconHtml = getIconHtml(heroApp);
      const canPreview = supportsPreview(heroApp);
      const ratingInfo = appRatings[heroApp.id];

      heroAppCard.innerHTML = `
        <div class="hero-app-header">
          <div class="app-icon lg">${iconHtml}</div>
          <div>
            <div class="eyebrow">${t("heroAppTagline")}</div>
            <h2>${heroApp.name}</h2>
            <p class="hero-app-desc">${shortDescription}</p>
          </div>
        </div>
        <div class="hero-app-meta">
          <span class="pill">${translations[currentLang].categories[heroApp.category]}</span>
          ${tags.map((tag) => `<span class="pill">${tag}</span>`).join("")}
          ${platforms.map((p) => `<span class="pill">${p}</span>`).join("")}
        </div>
        <div class="app-actions">
          <a class="btn btn-primary" href="${heroApp.url}" target="_blank" rel="noreferrer">
            <span class="icon">${isPlayStore ? "‚Üó" : "üöÄ"}</span>
            <span>${isPlayStore ? translations[currentLang].buttons.openPlay : translations[currentLang].buttons.open}</span>
          </a>
          ${canPreview
            ? `<button class="btn btn-ghost js-hero-preview" data-preview-url="${heroApp.previewUrl || heroApp.url}" type="button">
                <span class="icon">‚ñ∂</span>
                <span>${translations[currentLang].buttons.live}</span>
              </button>`
            : ""}
        </div>
        ${hasSupabaseBackend && heroApp.id
          ? `
              <div class="rating-block" data-app-id="${heroApp.id}">
                <div class="rating-summary-row">
                  <div class="rating-stars" aria-hidden="true">
                    ${renderStars(ratingInfo?.avg)}
                  </div>
                  <div class="rating-summary-text">
                    ${getRatingSummaryText(ratingInfo)}
                  </div>
                </div>
                <div class="rating-form">
                  <div class="rating-form-row">
                    <input
                      type="text"
                      class="rating-nickname"
                      placeholder="${currentLang === "tr" ? "ƒ∞sim (isteƒüe baƒülƒ±)" : "Name (optional)"}" />
                  </div>
                  <div class="rating-form-row">
                    <textarea
                      class="rating-comment"
                      rows="2"
                      placeholder="${currentLang === "tr" ? "Kƒ±sa yorum (isteƒüe baƒülƒ±)" : "Short comment (optional)"}"></textarea>
                  </div>
                  <div class="rating-submit-row">
                    <div class="rating-stars rating-stars-input" aria-label="${currentLang === "tr" ? "Puan ver" : "Give a rating"}">
                      ${[1, 2, 3, 4, 5]
                        .map(
                          (score) =>
                            `<button type="button" class="star-btn js-rate-star" data-score="${score}">‚òÖ</button>`
                        )
                        .join("")}
                    </div>
                    <button type="button" class="btn btn-ghost btn-xs js-submit-rating">
                      ${currentLang === "tr" ? "G√∂nder" : "Submit"}
                    </button>
                    <div class="rating-message"></div>
                  </div>
                </div>
                <div class="rating-latest">
                  ${
                    ratingInfo && ratingInfo.latest && ratingInfo.latest.length
                      ? ratingInfo.latest
                          .map(
                            (item) => `
                              <div class="rating-comment-item">
                                <span class="rating-comment-author">${item.nickname ? item.nickname : currentLang === "tr" ? "Anonim" : "Anonymous"}:</span>
                                <span> ${item.comment}</span>
                              </div>
                            `
                          )
                          .join("")
                      : ""
                  }
                </div>
              </div>
            `
          : ""}
        ${canPreview
          ? `<div class="app-preview hero-preview" aria-hidden="true">
              <div class="preview-hint">
                <span class="small"><strong>${translations[currentLang].preview.lead}</strong> ${translations[currentLang].preview.body}</span>
                <span class="small">${translations[currentLang].preview.fallback}</span>
              </div>
              <div class="preview-loader">${translations[currentLang].preview.loading}</div>
              <iframe
                class="preview-frame"
                loading="lazy"
                title="${heroApp.name} preview"
                referrerpolicy="no-referrer"
                sandbox="allow-scripts allow-forms allow-pointer-lock allow-same-origin allow-modals"
              ></iframe>
            </div>`
          : ""}
      `;

      const previewBtn = heroAppCard.querySelector(".js-hero-preview");
      const preview = heroAppCard.querySelector(".app-preview");
      const iframe = preview ? preview.querySelector("iframe") : null;

      if (previewBtn && preview && iframe) {
        previewBtn.addEventListener("click", () =>
          togglePreview(preview, previewBtn, iframe, heroApp.previewUrl || heroApp.url)
        );
      }
    }

    function renderFilters() {
      const counts = countByCategory(apps);
      const categories = CATEGORY_ORDER.filter((cat) => translations[currentLang].categories[cat]);
      const labels = translations[currentLang].categories;
      filtersEl.innerHTML = "";
      categories.forEach((cat) => {
        const pill = document.createElement("button");
        pill.type = "button";
        pill.className = "filter-pill" + (cat === currentCategory ? " active" : "");
        pill.dataset.category = cat;
        pill.innerHTML = `
          <span>${labels[cat]}</span>
          <span class="count">${counts[cat] || 0}</span>
        `;
        filtersEl.appendChild(pill);
      });
    }

    function createAppCard(app) {
      const card = document.createElement("article");
      card.className = "app-card";
      card.dataset.category = app.category;
      card.dataset.appId = app.id;
      const description = getLocalizedText(app.description);
      const tags = getLocalizedList(app.tags);
      const platforms = getLocalizedList(app.platforms);
      const isPlayStore = app.url.includes("play.google.com");
      const iconHtml = getIconHtml(app);
      const canPreview = supportsPreview(app);
      const previewUrl = app.previewUrl || app.url;
      const ratingInfo = appRatings[app.id];
      card.innerHTML = `
        <div class="app-header">
          <h3 class="app-title"><span class="app-icon">${iconHtml}</span>${app.name}</h3>
          <div class="app-category">${translations[currentLang].categories[app.category]}</div>
        </div>
        <p class="app-description">${description}</p>
        <div class="small app-extra-line">${t("storePromise")}</div>
        <div class="app-meta">
          <div class="chip-row">
            ${tags.map((tag) => `<span class="chip">${tag}</span>`).join("")}
          </div>
          <div class="platforms">
            ${platforms.map((p) => `<span class="platform-pill">${p}</span>`).join("")}
          </div>
        </div>
        <div class="app-actions">
          <a class="btn btn-primary" href="${app.url}" target="_blank" rel="noreferrer">
            <span class="icon">${isPlayStore ? "‚Üó" : "üöÄ"}</span>
            <span>${isPlayStore ? translations[currentLang].buttons.openPlay : translations[currentLang].buttons.open}</span>
          </a>
          ${canPreview
            ? `<button class="btn btn-ghost js-toggle-preview" data-preview-url="${previewUrl}" type="button">
                <span class="icon">‚ñ∂</span>
                <span>${translations[currentLang].buttons.live}</span>
              </button>`
            : ""}
        </div>
        ${hasSupabaseBackend && app.id
          ? `
              <div class="rating-block" data-app-id="${app.id}">
                <div class="rating-summary-row">
                  <div class="rating-stars" aria-hidden="true">
                    ${renderStars(ratingInfo?.avg)}
                  </div>
                  <div class="rating-summary-text">
                    ${getRatingSummaryText(ratingInfo)}
                  </div>
                </div>
                <div class="rating-form">
                  <div class="rating-form-row">
                    <input
                      type="text"
                      class="rating-nickname"
                      placeholder="${currentLang === "tr" ? "ƒ∞sim (isteƒüe baƒülƒ±)" : "Name (optional)"}" />
                  </div>
                  <div class="rating-form-row">
                    <textarea
                      class="rating-comment"
                      rows="2"
                      placeholder="${currentLang === "tr" ? "Kƒ±sa yorum (isteƒüe baƒülƒ±)" : "Short comment (optional)"}"></textarea>
                  </div>
                  <div class="rating-submit-row">
                    <div class="rating-stars rating-stars-input" aria-label="${currentLang === "tr" ? "Puan ver" : "Give a rating"}">
                      ${[1, 2, 3, 4, 5]
                        .map(
                          (score) =>
                            `<button type="button" class="star-btn js-rate-star" data-score="${score}">‚òÖ</button>`
                        )
                        .join("")}
                    </div>
                    <button type="button" class="btn btn-ghost btn-xs js-submit-rating">
                      ${currentLang === "tr" ? "G√∂nder" : "Submit"}
                    </button>
                    <div class="rating-message"></div>
                  </div>
                </div>
                <div class="rating-latest">
                  ${
                    ratingInfo && ratingInfo.latest && ratingInfo.latest.length
                      ? ratingInfo.latest
                          .map(
                            (item) => `
                              <div class="rating-comment-item">
                                <span class="rating-comment-author">${item.nickname ? item.nickname : currentLang === "tr" ? "Anonim" : "Anonymous"}:</span>
                                <span> ${item.comment}</span>
                              </div>
                            `
                          )
                          .join("")
                      : ""
                  }
                </div>
              </div>
            `
          : ""}
        ${canPreview
          ? `<div class="app-preview" aria-hidden="true">
              <div class="preview-hint">
                <span class="small"><strong>${translations[currentLang].preview.lead}</strong> ${translations[currentLang].preview.body}</span>
                <span class="small">${translations[currentLang].preview.fallback}</span>
              </div>
              <div class="preview-loader">${translations[currentLang].preview.loading}</div>
              <iframe
                class="preview-frame"
                loading="lazy"
                title="${app.name} preview"
                referrerpolicy="no-referrer"
                sandbox="allow-scripts allow-forms allow-pointer-lock allow-same-origin allow-modals"
              ></iframe>
            </div>`
          : ""}
      `;
      return card;
    }

    function renderApps() {
      const filtered = getFilteredApps();
      appGrid.innerHTML = "";

      if (!filtered.length) {
        emptyState.style.display = "block";
      } else {
        emptyState.style.display = "none";
      }

      filtered.forEach((app, idx) => {
        const card = createAppCard(app);
        card.style.animationDelay = `${idx * 40}ms`;
        appGrid.appendChild(card);
      });

      const resultsLabel = filtered.length === 1 ? t("results.single") : t("results.plural");
      resultsCounter.textContent = `${filtered.length} ${resultsLabel}`;
      metricApps.textContent = apps.length.toString();
      observer.observeAll();
    }

    function renderFeatured() {
      featuredRow.innerHTML = "";
      const featured = apps.filter((a) => a.is_featured);
      const picks = featured.length ? featured : apps.slice(0, 3);
      picks.forEach((app) => {
        const card = document.createElement("button");
        card.type = "button";
        card.className = "featured-card";
        const description = getLocalizedText(app.description);
        const iconHtml = getIconHtml(app);
        card.innerHTML = `
          <div class="featured-meta">
            <span class="app-icon">${iconHtml}</span>
            <div>
              <p class="featured-title">${app.name}</p>
              <div class="app-category">${translations[currentLang].categories[app.category]}</div>
            </div>
          </div>
          <p class="featured-desc">${description.slice(0, 110)}...</p>
        `;
        card.addEventListener("click", () => highlightApp(app.id));
        featuredRow.appendChild(card);
      });
    }

    function highlightApp(appId) {
      const target = document.querySelector(`[data-app-id="${appId}"]`);
      if (!target) return;
      target.scrollIntoView({ behavior: "smooth", block: "center" });
      target.classList.add("pulse-highlight");
      setTimeout(() => target.classList.remove("pulse-highlight"), 1300);
    }

    function getFilteredApps() {
      const query = currentSearch.trim().toLowerCase();

      return apps.filter((app) => {
        if (currentCategory !== "all" && app.category !== currentCategory) return false;

        if (!query) return true;

        const localizedDescription = getLocalizedText(app.description);
        const localizedTags = getLocalizedList(app.tags);
        const haystack =
          (app.name + " " + localizedDescription + " " + localizedTags.join(" "))
            .toLowerCase()
            .normalize("NFD")
            .replace(/\p{Diacritic}/gu, "");
        const needle = query
          .toLowerCase()
          .normalize("NFD")
          .replace(/\p{Diacritic}/gu, "");

        return haystack.includes(needle);
      });
    }

    function setupRatingHandlers() {
      const grids = [
        document.querySelector(".app-grid"),
        document.getElementById("heroAppCard"),
        document.getElementById("featuredRow"),
      ].filter(Boolean);

      grids.forEach((root) => {
        root.addEventListener("click", async (event) => {
          const target = event.target;
          if (!(target instanceof HTMLElement)) return;

          const ratingBlock = target.closest(".rating-block");
          if (!ratingBlock) return;
          const appId = ratingBlock.getAttribute("data-app-id");
          if (!appId || !hasSupabaseBackend) return;

          const messageEl = ratingBlock.querySelector(".rating-message");

          if (target.classList.contains("js-rate-star")) {
            event.preventDefault();
            const score = Number(target.getAttribute("data-score") || "0");
            const starButtons = ratingBlock.querySelectorAll(".js-rate-star");
            starButtons.forEach((btn) => {
              const btnScore = Number(btn.getAttribute("data-score") || "0");
              btn.classList.toggle("active", btnScore <= score);
            });
            ratingBlock.setAttribute("data-selected-score", String(score));
            return;
          }

          if (target.classList.contains("js-submit-rating")) {
            event.preventDefault();
            const selectedScore = Number(
              ratingBlock.getAttribute("data-selected-score") || "0"
            );
            if (!selectedScore || selectedScore < 1 || selectedScore > 5) {
              if (messageEl) {
                messageEl.textContent = currentLang === "tr"
                  ? "L√ºtfen 1 ile 5 arasƒ±nda bir puan se√ß."
                  : "Please select a rating between 1 and 5.";
                messageEl.className = "rating-message error";
              }
              return;
            }

            const nicknameInput = ratingBlock.querySelector(".rating-nickname");
            const commentInput = ratingBlock.querySelector(".rating-comment");
            const nickname = nicknameInput && nicknameInput.value
              ? nicknameInput.value.trim()
              : null;
            const comment = commentInput && commentInput.value
              ? commentInput.value.trim()
              : null;

            if (messageEl) {
              messageEl.textContent = currentLang === "tr"
                ? "G√∂nderiliyor..."
                : "Submitting...";
              messageEl.className = "rating-message";
            }

            const { error } = await supabase
              .from("adil_app_ratings")
              .insert({
                app_id: appId,
                score: selectedScore,
                nickname,
                comment,
              });

            if (error) {
              console.error("Failed to insert rating", error);
              if (messageEl) {
                messageEl.textContent = currentLang === "tr"
                  ? "Bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin."
                  : "Something went wrong. Please try again later.";
                messageEl.className = "rating-message error";
              }
              return;
            }

            if (nicknameInput) nicknameInput.value = "";
            if (commentInput) commentInput.value = "";
            ratingBlock.removeAttribute("data-selected-score");
            const starButtons = ratingBlock.querySelectorAll(".js-rate-star");
            starButtons.forEach((btn) => btn.classList.remove("active"));

            if (messageEl) {
              messageEl.textContent = currentLang === "tr"
                ? "Te≈üekk√ºrler! Deƒüerlendirmen eklendi."
                : "Thank you! Your rating has been added.";
              messageEl.className = "rating-message success";
            }

            await loadRatingsFromSupabase();
            renderApps();
            renderFeatured();
            renderHeroApp();
          }
        });
      });
    }

    // 4) EVENT WIRING
    // -------------------------------------------------------
    filtersEl.addEventListener("click", (e) => {
      const pill = e.target.closest(".filter-pill");
      if (!pill) return;
      const category = pill.dataset.category;
      if (!category || category === currentCategory) return;
      currentCategory = category;
      renderFilters();
      renderApps();
    });

    searchInput.addEventListener("input", (e) => {
      currentSearch = e.target.value || "";
      searchWrap.classList.toggle("has-text", !!currentSearch);
      renderApps();
    });

    searchClear.addEventListener("click", () => {
      searchInput.value = "";
      currentSearch = "";
      searchWrap.classList.remove("has-text");
      renderApps();
      searchInput.focus();
    });

    appGrid.addEventListener("click", (e) => {
      const btn = e.target.closest(".js-toggle-preview");
      if (!btn || btn.disabled) return;

      const card = btn.closest(".app-card");
      if (!card) return;
      const preview = card.querySelector(".app-preview");
      const iframe = preview ? preview.querySelector("iframe") : null;
      if (!preview || !iframe) return;
      togglePreview(preview, btn, iframe, btn.dataset.previewUrl);
    });

    languageToggle.addEventListener("click", (e) => {
      const btn = e.target.closest(".lang-option");
      if (!btn) return;
      setLanguage(btn.dataset.lang);
    });

    // THEME TOGGLE
    const themeToggle = document.getElementById("themeToggle");
    const themeLabel = themeToggle.querySelector(".theme-label");
    const themeIcon = themeToggle.querySelector(".theme-icon");

    function applyTheme(theme) {
      document.documentElement.setAttribute("data-theme", theme);
      if (theme === "light") {
        themeLabel.textContent = t("theme.light");
        themeIcon.textContent = "‚òÄÔ∏è";
      } else {
        themeLabel.textContent = t("theme.dark");
        themeIcon.textContent = "üåô";
      }
    }

    function initTheme() {
      const stored = window.localStorage.getItem("umut-theme");
      if (stored === "light" || stored === "dark") {
        applyTheme(stored);
      } else {
        applyTheme("dark");
      }
    }

    themeToggle.addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme") || "dark";
      const next = current === "dark" ? "light" : "dark";
      applyTheme(next);
      window.localStorage.setItem("umut-theme", next);
    });

    // Scroll shadow on header
    const header = document.querySelector("header");
    window.addEventListener("scroll", () => {
      header.classList.toggle("scrolled", window.scrollY > 8);
    });

    // Scroll animation observer
    const observer = {
      io: null,
      setup() {
        this.io = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("in-view");
              this.io.unobserve(entry.target);
            }
          });
        }, { threshold: 0.12 });
      },
      observeAll() {
        if (!this.io) this.setup();
        document.querySelectorAll(".app-card").forEach((card) => this.io.observe(card));
      },
    };

    // INITIAL RENDER
    initTheme();
    initLanguage();
    observer.setup();
    setupRatingHandlers();
    loadAppsFromSupabase();
  </script>
</body>
</html>
